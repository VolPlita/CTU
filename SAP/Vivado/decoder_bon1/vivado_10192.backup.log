#-----------------------------------------------------------
# Vivado v2018.3 (64-bit)
# SW Build 2405991 on Thu Dec  6 23:38:27 MST 2018
# IP Build 2404404 on Fri Dec  7 01:43:56 MST 2018
# Start of session at: Mon Mar 13 22:23:00 2023
# Process ID: 10192
# Current directory: D:/VivadoProjects/decoder_bon1
# Command line: vivado.exe -gui_launcher_event rodinguilauncherevent2532 D:\VivadoProjects\decoder_bon1\decoder_bon1.xpr
# Log file: D:/VivadoProjects/decoder_bon1/vivado.log
# Journal file: D:/VivadoProjects/decoder_bon1\vivado.jou
#-----------------------------------------------------------
start_gui
open_project D:/VivadoProjects/decoder_bon1/decoder_bon1.xpr
INFO: [Project 1-313] Project file moved from 'X:/BIE-SAP/decoder_bon1' since last save.
Scanning sources...
Finished scanning sources
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1700] Loaded user IP repository 'd:/VivadoProjects/lib_SAP_2022_02_02'.
INFO: [IP_Flow 19-2313] Loaded Vivado IP repository 'D:/Programs/Vivado/Vivado/2018.3/data/ip'.
open_project: Time (s): cpu = 00:00:05 ; elapsed = 00:00:08 . Memory (MB): peak = 735.066 ; gain = 114.129
update_compile_order -fileset sources_1
open_bd_design {D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/sources_1/bd/decoder_schema/decoder_schema.bd}
Adding cell -- xilinx.com:module_ref:decoder_7seg:1.0 - decoder_7seg_0
Adding cell -- FIT:user:gnd:1.0 - gnd_0
Adding cell -- FIT:user:vcc:1.0 - vcc_1
Adding cell -- FIT:user:vcc:1.0 - vcc_2
Adding cell -- xilinx.com:module_ref:adder4_vhdl:1.0 - adder4_vhdl_0
Adding cell -- xilinx.com:module_ref:decoder_7seg:1.0 - decoder_7seg_1
Adding cell -- FIT:user:gnd:1.0 - gnd_1
Adding cell -- FIT:user:gnd:1.0 - gnd_2
Successfully read diagram <decoder_schema> from BD file <D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/sources_1/bd/decoder_schema/decoder_schema.bd>
open_bd_design: Time (s): cpu = 00:00:04 ; elapsed = 00:00:07 . Memory (MB): peak = 865.270 ; gain = 81.273
import_files -norecurse C:/Users/HP/Downloads/clk_200hz.vhd
update_compile_order -fileset sources_1
create_bd_cell -type module -reference hodiny hodiny_0
INFO: [IP_Flow 19-5107] Inferred bus interface 'reset' of definition 'xilinx.com:signal:reset:1.0' (from Xilinx Repository).
INFO: [IP_Flow 19-4728] Bus Interface 'reset': Added interface parameter 'POLARITY' with value 'ACTIVE_HIGH'.
INFO: [IP_Flow 19-234] Refreshing IP repositories
INFO: [IP_Flow 19-1700] Loaded user IP repository 'd:/VivadoProjects/lib_SAP_2022_02_02'.
delete_bd_objs [get_bd_cells gnd_2]
delete_bd_objs [get_bd_nets adder4_vhdl_0_C_out] [get_bd_nets decoder_7seg_1_f_e] [get_bd_nets decoder_7seg_1_f_g] [get_bd_nets gnd_2_O] [get_bd_nets decoder_7seg_1_f_a] [get_bd_nets decoder_7seg_1_f_b] [get_bd_nets decoder_7seg_1_f_c] [get_bd_nets decoder_7seg_1_f_d] [get_bd_nets decoder_7seg_1_f_f] [get_bd_cells decoder_7seg_1]
delete_bd_objs [get_bd_ports CG0]
delete_bd_objs [get_bd_ports CF0]
delete_bd_objs [get_bd_ports CE0]
delete_bd_objs [get_bd_ports CD0]
delete_bd_objs [get_bd_ports CC0]
delete_bd_objs [get_bd_ports CB0]
delete_bd_objs [get_bd_ports CA0]
set_property location {3 401 12} [get_bd_cells hodiny_0]
set_property location {901 -363} [get_bd_ports CF]
set_property location {902 -337} [get_bd_ports CG]
startgroup
create_bd_cell -type ip -vlnv FIT:user:mux:1.0 mux_0
endgroup
set_property location {1 237 -87} [get_bd_cells mux_0]
set_property location {1 199 -95} [get_bd_cells mux_0]
set_property location {1 192 -98} [get_bd_cells mux_0]
set_property location {1 206 -126} [get_bd_cells mux_0]
set_property location {1 194 -97} [get_bd_cells mux_0]
startgroup
set_property location {2.5 604 7} [get_bd_cells decoder_7seg_0]
set_property location {3 604 7} [get_bd_cells gnd_1]
set_property location {3 604 7} [get_bd_cells vcc_1]
set_property location {3 604 7} [get_bd_cells gnd_0]
set_property location {3 604 7} [get_bd_cells vcc_2]
endgroup
undo
INFO: [Common 17-17] undo 'endgroup'
INFO: [Common 17-17] undo 'set_property location {3 604 7} [get_bd_cells vcc_2]'
INFO: [Common 17-17] undo 'set_property location {3 604 7} [get_bd_cells gnd_0]'
INFO: [Common 17-17] undo 'set_property location {3 604 7} [get_bd_cells vcc_1]'
INFO: [Common 17-17] undo 'set_property location {3 604 7} [get_bd_cells gnd_1]'
INFO: [Common 17-17] undo 'set_property location {2.5 604 7} [get_bd_cells decoder_7seg_0]'
INFO: [Common 17-17] undo 'startgroup'
set_property location {2.5 552 -459} [get_bd_cells decoder_7seg_0]
set_property location {3 553 -430} [get_bd_cells decoder_7seg_0]
set_property location {3 553 -416} [get_bd_cells decoder_7seg_0]
set_property location {3 555 -409} [get_bd_cells decoder_7seg_0]
set_property location {3 548 -417} [get_bd_cells decoder_7seg_0]
set_property location {3 554 -395} [get_bd_cells decoder_7seg_0]
set_property location {3 554 -426} [get_bd_cells decoder_7seg_0]
set_property location {3 552 -424} [get_bd_cells decoder_7seg_0]
set_property location {3 552 -415} [get_bd_cells decoder_7seg_0]
set_property location {3 552 -405} [get_bd_cells decoder_7seg_0]
set_property location {872 -337} [get_bd_ports CE]
set_property location {861 -339} [get_bd_ports CF]
set_property location {3 544 -216} [get_bd_cells gnd_1]
set_property location {3 542 -97} [get_bd_cells vcc_1]
set_property location {3 519 8} [get_bd_cells vcc_2]
set_property location {3 536 101} [get_bd_cells gnd_0]
delete_bd_objs [get_bd_nets adder4_vhdl_0_S0]
delete_bd_objs [get_bd_nets adder4_vhdl_0_S1]
delete_bd_objs [get_bd_nets adder4_vhdl_0_S2]
delete_bd_objs [get_bd_nets adder4_vhdl_0_S3]
set_property location {1.5 347 -428} [get_bd_cells mux_0]
set_property location {2 350 -402} [get_bd_cells mux_0]
connect_bd_net [get_bd_pins mux_0/O_0] [get_bd_pins decoder_7seg_0/a]
connect_bd_net [get_bd_pins mux_0/O_1] [get_bd_pins decoder_7seg_0/b]
connect_bd_net [get_bd_pins mux_0/O_2] [get_bd_pins decoder_7seg_0/c]
connect_bd_net [get_bd_pins mux_0/O_3] [get_bd_pins decoder_7seg_0/d]
connect_bd_net [get_bd_pins adder4_vhdl_0/S0] [get_bd_pins mux_0/I0_0]
connect_bd_net [get_bd_pins adder4_vhdl_0/S1] [get_bd_pins mux_0/I0_1]
connect_bd_net [get_bd_pins adder4_vhdl_0/S2] [get_bd_pins mux_0/I0_2]
connect_bd_net [get_bd_pins adder4_vhdl_0/S3] [get_bd_pins mux_0/I0_3]
connect_bd_net [get_bd_pins adder4_vhdl_0/C_out] [get_bd_pins mux_0/I1_0]
copy_bd_objs /  [get_bd_cells {gnd_1}]
set_property location {1 165 -164} [get_bd_cells gnd_2]
connect_bd_net [get_bd_pins gnd_2/O] [get_bd_pins mux_0/I1_1]
connect_bd_net [get_bd_pins mux_0/I1_2] [get_bd_pins gnd_2/O]
connect_bd_net [get_bd_pins mux_0/I1_3] [get_bd_pins gnd_2/O]
set_property location {3 529 226} [get_bd_cells hodiny_0]
delete_bd_objs [get_bd_nets gnd_0_O] [get_bd_cells gnd_0]
set_property location {832 -203} [get_bd_ports CG]
set_property location {844 -335} [get_bd_ports CG]
set_property location {850 -338} [get_bd_ports CG]
delete_bd_objs [get_bd_nets gnd_1_O] [get_bd_cells gnd_1]
set_property location {830 -106} [get_bd_ports AN2]
set_property location {851 -158} [get_bd_ports AN3]
set_property location {3 579 -232} [get_bd_cells vcc_2]
set_property location {851 -223} [get_bd_ports AN3]
set_property location {855 -231} [get_bd_ports AN3]
set_property location {854 -1} [get_bd_ports AN1]
set_property location {3 586 6} [get_bd_cells hodiny_0]
set_property location {1 92 -19} [get_bd_cells hodiny_0]
connect_bd_net [get_bd_pins hodiny_0/mux_sel] [get_bd_pins mux_0/Sel0]
startgroup
make_bd_pins_external  [get_bd_cells hodiny_0]
make_bd_intf_pins_external  [get_bd_cells hodiny_0]
INFO: [BD 5-409] No interface pins to be made external for /hodiny_0
endgroup
delete_bd_objs [get_bd_nets reset_0_1]
delete_bd_objs [get_bd_ports reset_0]
set_property location {-120 -24} [get_bd_ports clk_100MHz_0]
set_property location {-104 -24} [get_bd_ports clk_100MHz_0]
set_property location {-96 -28} [get_bd_ports clk_100MHz_0]
connect_bd_net [get_bd_ports AN1] [get_bd_pins hodiny_0/mux_sel]
connect_bd_net [get_bd_ports AN0] [get_bd_pins hodiny_0/mux_sel]
set_property location {868 -21} [get_bd_ports AN1]
set_property location {886 16} [get_bd_ports AN0]
set_property name W5 [get_bd_ports clk_100MHz_0]
startgroup
create_bd_cell -type ip -vlnv FIT:user:inv:1.0 inv_0
endgroup
set_property location {4 856 37} [get_bd_cells inv_0]
disconnect_bd_net /hodiny_0_mux_sel [get_bd_ports AN0]
connect_bd_net [get_bd_ports AN0] [get_bd_pins inv_0/O]
connect_bd_net [get_bd_pins inv_0/I] [get_bd_pins hodiny_0/mux_sel]
set_property location {1045 34} [get_bd_ports AN0]
set_property location {1054 37} [get_bd_ports AN0]
connect_bd_net [get_bd_pins hodiny_0/reset] [get_bd_pins gnd_2/O]
WARNING: [BD 41-1731] Type mismatch between connected pins: /gnd_2/O(undef) and /hodiny_0/reset(rst)
validate_bd_design
set_property location {3 849 -453} [get_bd_cells decoder_7seg_0]
set_property location {3 848 -461} [get_bd_cells decoder_7seg_0]
set_property location {3 847 -459} [get_bd_cells decoder_7seg_0]
set_property location {3 838 -387} [get_bd_cells decoder_7seg_0]
set_property location {3 841 -445} [get_bd_cells decoder_7seg_0]
set_property location {3 835 -419} [get_bd_cells decoder_7seg_0]
set_property location {1108 -352} [get_bd_ports CG]
set_property location {1079 -356} [get_bd_ports CG]
source D:/VivadoProjects/lib_SAP_2022_02_02/gen_bd_vhdl.tcl
# proc sortPorts { ports &bus &bit } {
# 
#   upvar ${&bus} busPorts
#   upvar ${&bit} bitPorts
#   array set busPorts [list]
#   set bitPorts [list]
# 
#   foreach port $ports {
#     set name [get_property -quiet NAME [get_bd_ports $port]]
# 	set busStart [get_property -quiet LEFT [get_bd_ports $port]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_ports $port]]
#     if {$busStart != {}} {
#     #   set busWidth [get_property -quiet BUS_WIDTH [get_ports $port]]
#       array set busPorts [list $name [list $busStop $busStart]]
#     } else {
#       lappend bitPorts $name
#     }
#   }
#   return 0
# }
# proc sortPins { pins &bus &bit } {
# 
#   upvar ${&bus} busPins
#   upvar ${&bit} bitPins
#   array set busPins [list]
#   array set bitPins [list]
# 
#   foreach pin $pins {
#     set name [get_property -quiet NAME [get_bd_pins $pin]]
# 	set dir [get_property -quiet DIR [get_bd_pins $pin]]
# 	set busStart [get_property -quiet LEFT [get_bd_pins $pin]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_pins $pin]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins $pin]]
# 	if {$net != ""} {
# 		set net_name [get_property -quiet NAME $net]
# 	} else {
# 		if {$dir == "I"} {
# 			if {$busStart != {}} {
# 				set net_name "(others => '0')"
# 				catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin}: nepripojen, bude pripojen k '0'"}
# 			} else {
# 				set net_name "'0'"
# 				catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin}: nepripojen, bude pripojen k '0'"}
# 			}
# 		} else {
# 			set net_name "open"
# 			catch {common::send_msg_id "bd2vhdl    pin-3" "CRITICAL WARNING" "${pin}: pin odstranen, vystup neni pripojen!"}
# 		}
# 	}
# 	if {$busStart != {}} {
# 		array set busPins [list $name [list $busStop $busStart $net_name]]
# 	} else {
# 		array set bitPins [list $name $net_name]
# 	}
#   }
#   return 0
# }
# proc sortNets { nets &bus &bit } {
# 
#   upvar ${&bus} busNets
#   upvar ${&bit} bitNets
#   array set busNets [list ]
#   set bitNets [list]
# 
#   foreach net $nets {
#     set name [get_property -quiet NAME [get_bd_nets $net]]
# 	set pin [lindex [get_bd_pins -of_objects [get_bd_nets $net]] 0]
# 	set busStart [get_property -quiet LEFT [get_bd_pins $pin]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_pins $pin]]
#     if {$busStart != {}} {
#     #   set busWidth [get_property -quiet BUS_WIDTH [get_ports $port]]
#       array set busNets [list $name [list $busStop $busStart]]
#     } else {
#       lappend bitNets $name
#     }
#   }
#   return 0
# }
# proc array2sortedList { &ar } {
# 
#   upvar ${&ar} ar
#   set sortedList [list]
#   foreach key [lsort -dictionary [array names ar]] {
#     lappend sortedList $key
#     lappend sortedList $ar($key)
#   }
#   return $sortedList
# }
# proc getInPinNet { cell pin default_value} {
# 	set pin [get_bd_pins -quiet $pin]
# 	set net [get_bd_nets -quiet -of_objects $pin]
# 	if {$net == ""} {
# 		catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin} nepripojen, bude pripojeno k $default_value"}
# 		set net_name $default_value
# 	} else {
# 		set net_name [get_property NAME $net]
# 	}
# 	return $net_name
# }
# proc getGate { cell  function} {
# 	set inputs_count [get_property CONFIG.Inputs [get_bd_cells -quiet $cell]]
# 	set content {}
# 	set prom {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 	for {set i 0} { $i < $inputs_count } { incr i } {
# 		set cfg [format "CONFIG.I%u_Inverted" $i]
# 		set pin [format "%s/I%u" $cell $i]
# 		set inverted [get_property $cfg  [get_bd_cells -quiet $cell]]
# 		#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 		set net_name [getInPinNet $cell $pin "\'0\'"]
# 		#set net_name [get_property NAME $net]
# 		if {$inverted == "true"} {
# 			append prom [format "not(%s)" $net_name]
# 		} else {
# 			append prom [format "%s" $net_name]
# 		}
# 		if {$i < ($inputs_count-1)} {
# 			append prom [format " %s " $function]
# 		}
# 	}
# 	set cfg [format "CONFIG.O_Inverted" $i]
# 	set pin [format "%s/O" $cell]
# 	set inverted [get_property $cfg  [get_bd_cells -quiet $cell]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$inverted == "true"} {
# 			append content [format "\t%s <= not(%s);\n" $out_name $prom];	
# 		} else {
# 			append content [format "\t%s <= %s;\n" $out_name $prom];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getBuf { cell  function } {
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/I" $cell]
# 	#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 	#set net_name [get_property NAME $net]
# 	set net_name [getInPinNet $cell $pin "\'0\'"]
# 
# 	set pin [format "%s/O" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$function == true} {
# 			append content [format "\t%s <= not(%s);\n" $out_name $net_name];	
# 		} else {
# 			append content  [format "\t%s <= %s;\n" $out_name $net_name];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getSource { cell  function } {
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/O" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$function == true} {
# 			append content [format "\t%s <= '1';\n" $out_name];	
# 		} else {
# 			append content [format "\t%s <= '0';\n" $out_name];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getSplitter { cell } {
# 	set width [get_property CONFIG.WIDTH [get_bd_cells -quiet $cell]]
# 	set pin [format "%s/I" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set in_name [get_property NAME $net]
# 		set content {}
# 		set name [get_property NAME $cell]
# 		append content [format "\n\t-- %s\n" $name]
# 		for {set i 0} { $i < $width } { incr i } {
# 			set pin [format "%s/O%u" $cell $i]
# 			set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 			if {$net != ""} {
# 				set net_name [get_property NAME $net]
# 				append content [format "\t%s <= %s(%u);\n" $net_name $in_name $i]
# 			} else {
# 				catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: ${pin} odstranen, vystup neni pripojen!"}
# 			}
# 		}
# 	} else {
# 		set content {}
# 		set name [get_property NAME $cell]
# 		append content [format "\n\t-- %s\n" $name]
# 		for {set i 0} { $i < $width } { incr i } {
# 			set pin [format "%s/O%u" $cell $i]
# 			set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 			if {$net != ""} {
# 				set net_name [get_property NAME $net]
# 				append content [format "\t%s <= \'0\';\n" $net_name $i]
# 				catch {common::send_msg_id "bd2vhdl  jadro-2" "CRITICAL WARNING" "${cell} nepripojen vstup, ${net_name} bude pripojeno k \'0\'"}
# 			} else {
# 				catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: ${pin} odstranen, vystup neni pripojen!"}
# 			}
# 		}
# 	}
# 	return $content
# }
# proc getDff { cell } {
# 	set ce [get_property CONFIG.CE [get_bd_cells -quiet $cell]]
# 	set reset [get_property CONFIG.Reset [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/q" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 
# 		set pin [format "%s/clk" $cell]
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net == ""} {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, nejsou pripojene hodiny!"}
# 			return [append content "\t-- odstraneno, , nejsou pripojene hodiny!\n"]
# 		}
# 		#set clk_name [get_property NAME $net]
# 		set clk_name [getInPinNet $cell $pin "\'0\'"]
# 
# 		set pin [format "%s/d" $cell]
# 		#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 		#set in_name [get_property NAME $net]
# 		set in_name [getInPinNet $cell $pin "\'0\'"]
# 
# 		if {$ce == "true"} {
# 			set pin [format "%s/ce" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set ce_name [get_property NAME $net]
# 			set ce_name [getInPinNet $cell $pin "\'1\'"]
# 		}
# 
# 		if {$reset == "true"} {
# 			set pin [format "%s/reset" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set reset_name [get_property NAME $net]
# 			set reset_name [getInPinNet $cell $pin "\'0\'"]
# 		}
# 
# 		append content [format "\tprocess (%s)\n\tbegin\n" $clk_name]
# 		append content [format "\t\tif rising_edge(%s) then\n" $clk_name]
# 		if {$reset == "true"} {
# 			append content [format "\t\t\tif %s = '1' then\n\t\t\t\t%s <= '0';\n\t\t\tels" $reset_name $out_name]
# 		} else {
# 			append content "\t\t\t"
# 		}
# 
# 		if {$ce == "true"} {
# 			append content [format "if %s = '1' then\n" $ce_name]
# 			append content [format "\t\t\t\t%s <= %s;\n" $out_name $in_name]
# 			append content "\t\t\tend if;\n"
# 		} else {
# 			if {$reset == "true"} {
# 				append content [format "e\n\t\t\t\t%s <= %s;\n" $out_name $in_name]
# 				append content "\t\t\tend if;\n"
# 			} else {
# 				append content [format "%s <= %s;\n" $out_name $in_name]
# 			}
# 		}
# 
# 		append content "\t\tend if;\n\tend process;\n";
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# 	return $content
# }
# proc getMux { cell } {
# 	set ports_count [get_property CONFIG.Data_Ports [get_bd_cells -quiet $cell]]
# 	set width [get_property CONFIG.WIDTH [get_bd_cells -quiet $cell]]
# 	set i0_bus [get_property CONFIG.I0_BUS [get_bd_cells -quiet $cell]]
# 	set i1_bus [get_property CONFIG.I1_BUS [get_bd_cells -quiet $cell]]
# 	set i2_bus [get_property CONFIG.I2_BUS [get_bd_cells -quiet $cell]]
# 	set i3_bus [get_property CONFIG.I3_BUS [get_bd_cells -quiet $cell]]
# 	set o_bus [get_property CONFIG.O_BUS [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	for {set i 0} { $i < $width } { incr i } {
# 		if {$o_bus == "true"} {
# 			set pin [format "%s/O" $cell]
# 			set vecO [format "(%u)" $i]
# 		} else {
# 			set pin [format "%s/O_%u" $cell $i]
# 			set vecO ""
# 		}
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net != ""} {
# 			set out_name [get_property NAME $net]
# 
# 			if {$i0_bus == "true"} {
# 				set pin [format "%s/I0" $cell]
# 				set vec0 [format "(%u)" $i]
# 			} else {
# 				set pin [format "%s/I0_%u" $cell $i]
# 				set vec0 ""
# 			}
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set i0_name [get_property NAME $net]
# 			set i0_name [getInPinNet $cell $pin "\'0\'"]
# 			if {$i0_name == "'0'"} {
# 				set vec0 ""
# 			}
# 
# 			if {$i1_bus == "true"} {
# 				set pin [format "%s/I1" $cell]
# 				set vec1 [format "(%u)" $i]
# 			} else {
# 				set pin [format "%s/I1_%u" $cell $i]
# 				set vec1 ""
# 			}
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set i1_name [get_property NAME $net]
# 			set i1_name [getInPinNet $cell $pin "\'0\'"]
# 			if {$i1_name == "'0'"} {
# 				set vec1 ""
# 			}
# 
# 			set pin [format "%s/Sel0" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set sel0_name [get_property NAME $net]
# 			set sel0_name [getInPinNet $cell $pin "\'0\'"]
# 
# 			if {$ports_count > 2} {
# 				if {$i2_bus == "true"} {
# 					set pin [format "%s/I2" $cell]
# 					set vec2 [format "(%u)" $i]
# 				} else {
# 					set pin [format "%s/I2_%u" $cell $i]
# 					set vec2 ""
# 				}
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set i2_name [get_property NAME $net]
# 				set i2_name [getInPinNet $cell $pin "\'0\'"]
# 				if {$i2_name == "'0'"} {
# 					set vec2 ""
# 				}
# 
# 				if {$i3_bus == "true"} {
# 					set pin [format "%s/I3" $cell]
# 					set vec3 [format "(%u)" $i]
# 				} else {
# 					set pin [format "%s/I3_%u" $cell $i]
# 					set vec3 ""
# 				}
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set i3_name [get_property NAME $net]
# 				set i3_name [getInPinNet $cell $pin "\'0\'"]
# 				if {$i3_name == "'0'"} {
# 					set vec3 ""
# 				}
# 
# 				set pin [format "%s/Sel1" $cell]
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set sel1_name [get_property NAME $net]
# 				set sel1_name [getInPinNet $cell $pin "\'0\'"]
# 				
# 				if {$sel0_name != "'0'" && $sel1_name != "'0'"} {
# 					append content [format "\t%s%s <= %s%s when %s = '0' and %s = '0' else\n" $out_name $vecO $i0_name $vec0 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '0' and %s = '1' else\n" $i1_name $vec1 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '1' and %s = '0' else\n" $i2_name $vec2 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '1' and %s = '1' else '0';\n\n" $i3_name $vec3 $sel1_name $sel0_name]
# 				} else {
# 					append content [format "\t%s%s <= %s%s;\n" $out_name $vecO $i0_name $vec0]
# 				}
# 			} else {
# 				if {$sel0_name != "'0'"} {
# 					append content [format "\t%s%s <= %s%s when (%s = '1') else %s%s;\n" $out_name $vecO $i1_name $vec1 $sel0_name $i0_name $vec0]
# 				} else {
# 					append content [format "\t%s%s <= %s%s;\n" $out_name $vecO $i0_name $vec0]
# 				}
# 			}
# 		} else {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" " ${cell}: pin ${pin} odstranen, vystup neni pripojen!"}
# 			return [append content "\t-- ${pin} odstranen, vystup neni pripojen\n"]
# 		}
# 		
# 	}
# 	return $content
# }
# proc getDebounce { cell } {
# 	set width [get_property CONFIG.width [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/tl_out" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set tl_out [get_property NAME $net]
# 
# 		set pin [format "%s/clk" $cell]
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net != ""} {
# 			set clk [get_property NAME $net]
# 
# 			set pin [format "%s/tl_in" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set tl_in [get_property NAME $net]
# 			set tl_in [getInPinNet $cell $pin "\'0\'"]
# 
# 			append content [ format "\t%s : debounce\n\t\tgeneric map (\n\t\t\twidth => %s\n\t\t)\n\t\tport map (\n\t\t\tclk	=> %s,\n\t\t\ttl_in	=> %s,\n\t\t\ttl_out	=> %s\n\t\t);\n" $name $width $clk $tl_in $tl_out]
# 		} else {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, nejsou pripojene hodiny!"}
# 			return [append content "\t-- odstraneno, , nejsou pripojene hodiny!\n"]	
# 		}
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# 	
# 	return $content
# }
# set debounce_component "\tcomponent debounce
# \t\tgeneric (
# \t\t\twidth: integer := 22
# \t\t);
# \t\tport (
# \t\t\tclk    : in  std_logic;
# \t\t\ttl_in  : in  std_logic;
# \t\t\ttl_out : out std_logic
# \t\t);
# \tend component;\n"
# proc getModule_ref { cell components component_name} {
# 	upvar $components comps
# 
# 	set inPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==I]]
# 	array set inputBusPins [list]
# 	array set inputBitPins [list]
# 	sortPins $inPins inputBusPins inputBitPins
# 
# 	set outPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==O]]
# 	array set outputBusPins [list]
# 	array set outputBitPins [list]
# 	sortPins $outPins outputBusPins outputBitPins
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set lines [list]
# 	foreach {pin net} [array2sortedList inputBitPins] {
#     	lappend lines [list "$pin" "in  std_logic;" "$net"]
#   	}
# 	foreach {pin busInfo} [array2sortedList inputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin" "in  std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "in  std_logic_vector($start to $stop);" "$net"]
# 		}
#   	}
# 	foreach {pin net} [array2sortedList outputBitPins] {
#     	lappend lines [list "$pin" "out std_logic;" "$net"]
# 	}
# 	foreach {pin busInfo} [array2sortedList outputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin"  "out std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "out std_logic_vector($start to $stop);" "$net"]
# 		}
# 	}
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 	set ports {}
# 	set port_map {}
# 	foreach line $lines {
# 		append ports [format "\n\t\t\t%-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 		append port_map [format "\n\t\t\t%-${maxWidth}s =>  %-${maxWidth}s," [lindex $line 0] [lindex $line 2]]
# 	}
# 	# Remove the last semi-colon
#   	set index [string last {;} $ports]
#   	set ports [string replace $ports $index $index {}]
# 	# Remove the last ,
#   	set index [string last {,} $port_map]
#   	set port_map [string replace $port_map $index $index {}]
# 
# 	# nepridavat pokud uz tam ta komponenta je
# 	if {[string first $component_name $comps] < 0} {
# 		append comps "\tcomponent ${component_name}\n\t\tport ("
# 		append comps $ports
# 		append comps "\n\t\t);\n\tend component;\n\n"
# 	}
# 	append content "\tinst_${name} : ${component_name}\n"
# 	append content "\t\tport map ("
# 	append content $port_map
# 	append content "\n\t\t);\n"
# }
# proc getHier { cell debounce components modules} {
# 	global debounce_component
# 	upvar $components comps
# 	upvar $modules mods
# 	upvar $debounce debs
# 
# 	set inPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==I]]
# 	array set inputBusPins [list]
# 	array set inputBitPins [list]
# 	sortPins $inPins inputBusPins inputBitPins
# 
# 	set outPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==O]]
# 	array set outputBusPins [list]
# 	array set outputBitPins [list]
# 	sortPins $outPins outputBusPins outputBitPins
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set lines [list]
# 	foreach {pin net} [array2sortedList inputBitPins] {
#     	lappend lines [list "$pin" "in  std_logic;" "$net"]
#   	}
# 	foreach {pin busInfo} [array2sortedList inputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin" "in  std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "in  std_logic_vector($start to $stop);" "$net"]
# 		}
#   	}
# 	foreach {pin net} [array2sortedList outputBitPins] {
#     	lappend lines [list "$pin" "out std_logic;" "$net"]
# 	}
# 	foreach {pin busInfo} [array2sortedList outputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin"  "out std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "out std_logic_vector($start to $stop);" "$net"]
# 		}
# 	}
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 	set ports {}
# 	set port_map {}
# 	foreach line $lines {
# 		append ports [format "\n\t\t\t%-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 		append port_map [format "\n\t\t\t%-${maxWidth}s =>  %-${maxWidth}s," [lindex $line 0] [lindex $line 2]]
# 	}
# 	# Remove the last semi-colon
#   	set index [string last {;} $ports]
#   	set ports [string replace $ports $index $index {}]
# 	# Remove the last ,
#   	set index [string last {,} $port_map]
#   	set port_map [string replace $port_map $index $index {}]
# 
# 	set filtr [format {PATH !~ "%s/.*/.*"} $cell]
# 	set nets [lsort [get_bd_nets -quiet -of_objects [get_bd_cells $cell] -regexp -filter $filtr]]
# 	array set busNets [list ]
# 	set bitNets [list]
# 	sortNets $nets busNets bitNets
# 
# 	set lines [list]
# 	# Process single bit nets
# 	foreach net [lsort -dictionary $bitNets] {
# 		lappend lines [list "$net" "  std_logic;"]
# 	}
# 	# Process bus nets
# 	foreach {net busInfo} [array2sortedList busNets] {
# 		lassign $busInfo stop start
# 		if {$start>$stop} {
# 		lappend lines [list "$net" "  std_logic_vector($start downto $stop);"]
# 		} else {
# 		lappend lines [list "$net" "  std_logic_vector($start to $stop);"]
# 		}
# 	}
# 
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 
# 	# Build the content of the stub:
# 	set signals {}
# 	foreach line $lines {
# 		append signals [format "\n\tsignal %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 	}
#   set ports2Signals {}
#     foreach net [lsort -dictionary $nets] {
#         set net_name [get_property NAME [get_bd_nets -quiet $net]]
#         set ports_b [get_bd_ports -quiet -of_objects [get_bd_nets -quiet $net]]
#         if {$ports == {}} {
#             break
#         }
#         foreach port [lsort -dictionary $ports_b] {
#             set port_name [get_property NAME [get_bd_pins -quiet $port]]
#             set dir [get_property DIR [get_bd_pins -quiet $port]]
#             if {$dir == "I"} {
#                 append ports2Signals "\t$net_name <= $port_name;\n"    
#             } else {
#                 append ports2Signals "\t$port_name <= $net_name;\n"
#             }
#         }
#     }
#   
# 	set debounce_inner false
#   	set components_inner {}
#   	set modules_inner {}
#   	set body [getIPs $cell debounce_inner components_inner modules_inner]
# 	if {$debounce_inner} {
# 		puts "######################################################################x"
# 		append components_inner $debounce_component
# 		set debs true
#     }
# 	
# 	set comp_name [string replace $cell 0 0 {}]
#     set comp_name [string map {/ _} $comp_name]
#     append comps "\tcomponent ${comp_name}\n\t\tport ("
#     append mods "\n\nlibrary IEEE;\nuse IEEE.std_logic_1164.all;\n\n"
#     append mods "entity ${comp_name} is\n\tport("
#     append mods $ports
#     append comps $ports
#     append mods "\n\t\t);\nend entity ${comp_name};\n\narchitecture Behavioral of ${comp_name} is\n"
#     append mods $components_inner
#     append mods $signals
#     append mods "\nbegin\n"
#     append mods $ports2Signals
#     append mods $body
#     append mods "\nend Behavioral;"
#     append comps "\n\t\t);\n\tend component;\n\n"
#     append content "\tinst_${comp_name} : ${comp_name}\n"
#     append content "\t\tport map ("
#     append content $port_map
#     append content "\n\t\t);\n"
#     append mods $modules_inner
# 
# 	return $content
# }
# proc getIPs { parent debounce components modules} {
#   upvar $debounce deb
#   upvar $components comps
#   upvar $modules mods
#   if {$parent == ""} {
# 	set cells [get_bd_cells]	  
#   } else {
# 	set filtr [format {PATH !~ "%s/.*/.*"} $parent]
# 	set cells [get_bd_cells -of_objects [get_bd_cells $parent] -regexp -filter $filtr]
#   }
#   
#   set content {}
#   foreach cell [lsort -dictionary $cells] {
# 	set type [get_property TYPE [get_bd_cells -quiet $cell]]
# 	set name [get_property NAME [get_bd_cells -quiet $cell]]
# 	set vlnv [get_property VLNV [get_bd_cells -quiet $cell]]
# 	if {$type == "ip"} {
# 		set vlnvs [split $vlnv ":"]
# 		if {[lindex $vlnvs 0] == "FIT"} {
# 		 	switch [lindex $vlnvs 2] {
# 				"or" {
# 					append content [getGate $cell "or"]
# 				}
# 				"and" {
# 					append content [getGate $cell "and"]
# 				}
# 				"xor" {
# 					append content [getGate $cell "xor"]
# 				}
# 				"buf" {
# 					append content [getBuf $cell false]
# 				}
# 				"inv" {
# 					append content [getBuf $cell true]
# 				}
# 				"gnd" {
# 					append content [getSource $cell false]
# 				}
# 				"vcc" {
# 					append content [getSource $cell true]
# 				}
# 				"splitter" {
# 					append content [getSplitter $cell]
# 				}
# 				"mux" {
# 					append content [getMux $cell]
# 				}
# 				"dff" {
# 					append content [getDff $cell]
# 				}
# 				"debounce" {
# 					append content [getDebounce $cell]
# 					set deb true
# 				}
# 			}
# 		} elseif {[lindex $vlnvs 0] == "xilinx.com" && [lindex $vlnvs 1] == "module_ref"} {
# 			append content [getModule_ref $cell comps [lindex $vlnvs 2]]
# 		}
# 			
# 	} elseif {$type == "hier"} {
# 		append content [getHier $cell deb comps mods]
# 	}
#   }
#   return $content
# }
# set debounce_code "\n\n\nlibrary IEEE;
# use IEEE.STD_LOGIC_1164.ALL;
# use ieee.std_logic_unsigned.all;
# 
# entity debounce is
#     generic (
# 		width: integer := 22 -- 100 MHz clock -> 4 - simulation (90 ns); 22 - synthesis (ca. 20 ms)
# 	);
#     port (
# 		clk : in STD_LOGIC;
#         tl_in : in STD_LOGIC;
#         tl_out : out STD_LOGIC
# 	);
# end entity debounce;
# 
# architecture Behavioral of debounce is
# 
# signal cnt       : std_logic_vector(width-1 downto 0) := (others => '0');
# signal reset, ce : std_logic := '0';
# signal tl_prev   : std_logic := '0';
# 
# 
# begin
# 
#     counter: process(clk) begin
#         if rising_edge(clk) then 
#             if (reset = '1') then
#                 cnt <= (others => '0');
#             elsif (ce = '1') then
#                 cnt <= cnt + 1;
#             end if;
#         end if;
#     end process;
# 
#     process(clk) begin
#         if rising_edge(clk) then
#             if (tl_prev /= tl_in) then
#                 reset <= '1';
#             else 
#                 reset <= '0';
#             end if;
#         end if;
#     end process;
#                 
#     process(clk) begin
#         if rising_edge(clk) then
#             if (reset = '1') then
#                 tl_prev <= tl_in;
#             end if;
#         end if;
#     end process;
#                 
#     process(clk) begin
#         if rising_edge(clk) then
#             if ((cnt(width-1) = '1') and (cnt(0) = '0')) then
#                 tl_out <= tl_prev;
#             end if;
#         end if;
#     end process;
#                 
# 
#     ce <= '0' when ((cnt(width-1) = '1') and (cnt(0) = '1'))
#                 else '1';
# 
# end Behavioral;\n"
# proc vhdlTemplate { module } {
#   global debounce_code
#   global debounce_component
# 
#   set inPorts [lsort [get_bd_ports -quiet -filter DIR==I]]
#   array set inputBusPorts [list ]
#   set inputBitPorts [list]
#   sortPorts $inPorts inputBusPorts inputBitPorts
# 
#   set outPorts [lsort [get_bd_ports -quiet -filter DIR==O]]
#   array set outputBusPorts [list ]
#   set outputBitPorts [list]
#   sortPorts $outPorts outputBusPorts outputBitPorts
# 
#   set inoutPorts [lsort [get_bd_ports -quiet -filter DIR==IO]]
#   array set inoutBusPorts [list ]
#   set inoutBitPorts [list]
#   sortPorts $inoutPorts inoutBusPorts inoutBitPorts
# 
#   set lines [list]
#   # Process input single bit ports
# #   lappend lines "-- Input Ports - Single Bit"
#   foreach port [lsort -dictionary $inputBitPorts] {
#     lappend lines [list "$port" "in  std_logic;"]
#   }
#   # Process input bus ports
# #   lappend lines "-- Input Ports - Busses"
#   foreach {port busInfo} [array2sortedList inputBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port" "in  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "in  std_logic_vector($start to $stop);"]
#     }
#   }
#   # Process output single bit ports
# #   lappend lines "-- Output Ports - Single Bit"
#   foreach port [lsort -dictionary $outputBitPorts] {
#     lappend lines [list "$port" "out std_logic;"]
#   }
#   # Process output bus ports
# #   lappend lines "-- Output Ports - Busses"
#   foreach {port busInfo} [array2sortedList outputBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port"  "out std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "out std_logic_vector($start to $stop);"]
#     }
#   }
#   # Process inout single bit ports
# #   lappend lines "-- InOut Ports - Single Bit"
#   foreach port [lsort -dictionary $inoutBitPorts] {
#     lappend lines [list "$port" "inout  std_logic;"]
#   }
#   # Process inout bus ports
# #   lappend lines "-- InOut Ports - Busses"
#   foreach {port busInfo} [array2sortedList inoutBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port" "inout  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "inout  std_logic_vector($start to $stop);"]
#     }
#   }
# 
#   # Detect maximum column width to align columns
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Skip lines that are just comments
#       continue
#     }
#     set width [string length [lindex $line 0]]
#     if {![info exist maxWidth] || $maxWidth < $width} {
#       set maxWidth $width
#     }
#   }
# 
#   # Build the content of the stub:
#   set content {}
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Lines that are just comments
#       append content "\n      $line"
#       continue
#     }
#     append content [format "\n      %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
#   }
# 
#   # Remove the last semi-colon
#   set index [string last {;} $content]
#   set content [string replace $content $index $index {}]
# 
# 
#   set nets [lsort [get_bd_nets -quiet]]
#   array set busNets [list ]
#   set bitNets [list]
#   sortNets $nets busNets bitNets
# 
#   set lines [list]
#   # Process single bit nets
#   foreach net [lsort -dictionary $bitNets] {
#     lappend lines [list "$net" "  std_logic;"]
#   }
#   # Process bus nets
#   foreach {net busInfo} [array2sortedList busNets] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$net" "  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$net" "  std_logic_vector($start to $stop);"]
#     }
#   }
# 
#   # Detect maximum column width to align columns
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Skip lines that are just comments
#       continue
#     }
#     set width [string length [lindex $line 0]]
#     if {![info exist maxWidth] || $maxWidth < $width} {
#       set maxWidth $width
#     }
#   }
# 
#   # Build the content of the stub:
#   set signals {}
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Lines that are just comments
#       append signals "\n      $line"
#       continue
#     }
#     append signals [format "\n      signal %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
#   }
#   set ports2Signals {}
#   foreach port [lsort -dictionary $inPorts] {
# 	set port_name [get_property NAME [get_bd_ports -quiet $port]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_ports -quiet $port]]
# 	if {$net != ""} {
# 		set net_name [get_property NAME $net]
# 		append ports2Signals "\t$net_name <= $port_name;\n"
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl   port-2" "CRITICAL WARNING" "${port_name}: port nepripojen!"}
# 	}
#   }
#   foreach port [lsort -dictionary $outPorts] {
# 	set port_name [get_property NAME [get_bd_ports -quiet $port]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_ports -quiet $port]]
# 	if {$net != ""} {
# 		set net_name [get_property NAME $net]
# 		append ports2Signals "\t$port_name <= $net_name;\n"
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl   port-3" "CRITICAL WARNING" "${port_name}: port nepripojen!"}
# 	}
#   }
#   set debounce false
#   set components {}
#   set modules {}
#   set body [getIPs "" debounce components modules]
#   
#   if {$debounce} {
# 	  append components $debounce_component
#   }
#   # Now that the last semi-colon is replaced, add the header and footer
#   set content [format "library IEEE;
# use IEEE.std_logic_1164.all;
# 
# library xil_defaultlib;
# use xil_defaultlib.all;
# 
# entity ${module}_vhdl is
#    port (%s
#    );
# end entity ${module}_vhdl;
# 
# architecture Behavioral of ${module}_vhdl is
# %s
# %s
# begin
# %s
# %s
# end Behavioral;" $content $components $signals $ports2Signals $body]
# 
#   append content $modules
# 
#   if {$debounce} {
# 	  append content $debounce_code
#   }
# 
#   return $content
# }
# set name [current_bd_design -quiet]
# if {$name == ""} {
#     common::send_msg_id -continue "bd2vhdl design-2" "ERROR" "Je potreba otevrit block design!"
# 	return
# }
# save_bd_design $name
Wrote  : <D:\VivadoProjects\decoder_bon1\decoder_bon1.srcs\sources_1\bd\decoder_schema\decoder_schema.bd> 
Wrote  : <D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/sources_1/bd/decoder_schema/ui/bd_f304c1dc.ui> 
# validate_bd_design -force
# if { [llength [get_bd_ports]] > 0 } {
# 	puts "\n##### ${name} #####"
# 	set content [vhdlTemplate $name]
# 	set PROJ_DIR [get_property DIRECTORY [current_project]]
# 	set PROJ_DIR [file normalize $PROJ_DIR]
# 	set tmp_dir [file join $PROJ_DIR "tmp"]
# 	file mkdir $tmp_dir
# 	set filename "${name}.vhd"
# 	set filename_path [file join $tmp_dir $filename]
# 	# Save the template
# 	set mode {w}
# 	puts "\nCreating VHDL for Design $name in [file normalize $filename]\n"
# 	set tfh [open $filename_path $mode]
# 	puts $tfh $content
# 	close $tfh
# 
# 	import_files -force -norecurse $filename_path
# 	common::send_msg_id "bd2vhdl design-1" "INFO" "${name}_vhdl.vhd vygenerovan"
# } else {
# 	common::send_msg_id -continue "bd2vhdl design-3" "ERROR" "${name} neobsahuje zadne porty!"
# }

##### decoder_schema #####

Creating VHDL for Design decoder_schema in D:/VivadoProjects/decoder_bon1/decoder_schema.vhd

INFO: [bd2vhdl design-1] decoder_schema_vhdl.vhd vygenerovan
update_compile_order -fileset sources_1
delete_bd_objs [get_bd_nets adder4_vhdl_0_S0] [get_bd_nets adder4_vhdl_0_S2] [get_bd_nets adder4_vhdl_0_S3] [get_bd_nets adder4_vhdl_0_C_out] [get_bd_nets mux_0_O_2] [get_bd_nets mux_0_O_3] [get_bd_nets mux_0_O_0] [get_bd_nets mux_0_O_1] [get_bd_nets adder4_vhdl_0_S1] [get_bd_cells mux_0]
delete_bd_objs [get_bd_nets decoder_7seg_0_f_a] [get_bd_nets decoder_7seg_0_f_b] [get_bd_nets decoder_7seg_0_f_c] [get_bd_nets decoder_7seg_0_f_d] [get_bd_nets decoder_7seg_0_f_e] [get_bd_nets decoder_7seg_0_f_f] [get_bd_nets decoder_7seg_0_f_g] [get_bd_cells decoder_7seg_0]
create_bd_cell -type module -reference decoder_7seg decoder_7seg_0
create_bd_cell -type module -reference decoder_7seg decoder_7seg_1
startgroup
create_bd_cell -type ip -vlnv FIT:user:mux:1.0 mux_0
endgroup
connect_bd_net [get_bd_pins adder4_vhdl_0/S0] [get_bd_pins decoder_7seg_1/a]
connect_bd_net [get_bd_pins adder4_vhdl_0/S1] [get_bd_pins decoder_7seg_1/b]
connect_bd_net [get_bd_pins adder4_vhdl_0/S2] [get_bd_pins decoder_7seg_1/c]
connect_bd_net [get_bd_pins adder4_vhdl_0/S3] [get_bd_pins decoder_7seg_1/d]
connect_bd_net [get_bd_pins decoder_7seg_0/b] [get_bd_pins gnd_2/O]
connect_bd_net [get_bd_pins decoder_7seg_0/c] [get_bd_pins gnd_2/O]
connect_bd_net [get_bd_pins decoder_7seg_0/d] [get_bd_pins gnd_2/O]
connect_bd_net [get_bd_pins adder4_vhdl_0/C_out] [get_bd_pins decoder_7seg_0/a]
set_property -dict [list CONFIG.WIDTH {7}] [get_bd_cells mux_0]
set_property location {3 836 -418} [get_bd_cells mux_0]
set_property location {3 842 -428} [get_bd_cells mux_0]
set_property location {1071 -77} [get_bd_ports AN2]
set_property location {1079 -67} [get_bd_ports AN2]
set_property location {1068 96} [get_bd_ports AN1]
set_property location {1077 0} [get_bd_ports AN1]
set_property location {3 823 59} [get_bd_cells inv_0]
set_property location {1086 -31} [get_bd_ports AN1]
set_property location {1070 -20} [get_bd_ports AN1]
set_property location {3 842 -93} [get_bd_cells vcc_1]
set_property location {1073 -195} [get_bd_ports AN3]
set_property location {3 856 40} [get_bd_cells inv_0]
connect_bd_net [get_bd_ports CA] [get_bd_pins mux_0/O_0]
connect_bd_net [get_bd_ports CB] [get_bd_pins mux_0/O_1]
connect_bd_net [get_bd_ports CC] [get_bd_pins mux_0/O_2]
connect_bd_net [get_bd_ports CD] [get_bd_pins mux_0/O_3]
connect_bd_net [get_bd_ports CE] [get_bd_pins mux_0/O_4]
connect_bd_net [get_bd_ports CF] [get_bd_pins mux_0/O_5]
connect_bd_net [get_bd_ports CG] [get_bd_pins mux_0/O_6]
set_property location {1074 -372} [get_bd_ports CG]
connect_bd_net [get_bd_pins decoder_7seg_0/f_a] [get_bd_pins mux_0/I0_0]
connect_bd_net [get_bd_pins decoder_7seg_0/f_b] [get_bd_pins mux_0/I0_1]
connect_bd_net [get_bd_pins decoder_7seg_0/f_c] [get_bd_pins mux_0/I0_2]
connect_bd_net [get_bd_pins decoder_7seg_0/f_d] [get_bd_pins mux_0/I0_3]
connect_bd_net [get_bd_pins decoder_7seg_0/f_e] [get_bd_pins mux_0/I0_4]
connect_bd_net [get_bd_pins decoder_7seg_0/f_f] [get_bd_pins mux_0/I0_5]
connect_bd_net [get_bd_pins decoder_7seg_0/f_g] [get_bd_pins mux_0/I0_6]
connect_bd_net [get_bd_pins decoder_7seg_1/f_a] [get_bd_pins mux_0/I1_0]
connect_bd_net [get_bd_pins decoder_7seg_1/f_b] [get_bd_pins mux_0/I1_1]
connect_bd_net [get_bd_pins decoder_7seg_1/f_c] [get_bd_pins mux_0/I1_2]
connect_bd_net [get_bd_pins decoder_7seg_1/f_d] [get_bd_pins mux_0/I1_3]
connect_bd_net [get_bd_pins decoder_7seg_1/f_e] [get_bd_pins mux_0/I1_4]
connect_bd_net [get_bd_pins decoder_7seg_1/f_f] [get_bd_pins mux_0/I1_5]
connect_bd_net [get_bd_pins decoder_7seg_1/f_g] [get_bd_pins mux_0/I1_6]
connect_bd_net [get_bd_pins mux_0/Sel0] [get_bd_pins hodiny_0/mux_sel]
source D:/VivadoProjects/lib_SAP_2022_02_02/gen_bd_vhdl.tcl
# proc sortPorts { ports &bus &bit } {
# 
#   upvar ${&bus} busPorts
#   upvar ${&bit} bitPorts
#   array set busPorts [list]
#   set bitPorts [list]
# 
#   foreach port $ports {
#     set name [get_property -quiet NAME [get_bd_ports $port]]
# 	set busStart [get_property -quiet LEFT [get_bd_ports $port]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_ports $port]]
#     if {$busStart != {}} {
#     #   set busWidth [get_property -quiet BUS_WIDTH [get_ports $port]]
#       array set busPorts [list $name [list $busStop $busStart]]
#     } else {
#       lappend bitPorts $name
#     }
#   }
#   return 0
# }
# proc sortPins { pins &bus &bit } {
# 
#   upvar ${&bus} busPins
#   upvar ${&bit} bitPins
#   array set busPins [list]
#   array set bitPins [list]
# 
#   foreach pin $pins {
#     set name [get_property -quiet NAME [get_bd_pins $pin]]
# 	set dir [get_property -quiet DIR [get_bd_pins $pin]]
# 	set busStart [get_property -quiet LEFT [get_bd_pins $pin]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_pins $pin]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins $pin]]
# 	if {$net != ""} {
# 		set net_name [get_property -quiet NAME $net]
# 	} else {
# 		if {$dir == "I"} {
# 			if {$busStart != {}} {
# 				set net_name "(others => '0')"
# 				catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin}: nepripojen, bude pripojen k '0'"}
# 			} else {
# 				set net_name "'0'"
# 				catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin}: nepripojen, bude pripojen k '0'"}
# 			}
# 		} else {
# 			set net_name "open"
# 			catch {common::send_msg_id "bd2vhdl    pin-3" "CRITICAL WARNING" "${pin}: pin odstranen, vystup neni pripojen!"}
# 		}
# 	}
# 	if {$busStart != {}} {
# 		array set busPins [list $name [list $busStop $busStart $net_name]]
# 	} else {
# 		array set bitPins [list $name $net_name]
# 	}
#   }
#   return 0
# }
# proc sortNets { nets &bus &bit } {
# 
#   upvar ${&bus} busNets
#   upvar ${&bit} bitNets
#   array set busNets [list ]
#   set bitNets [list]
# 
#   foreach net $nets {
#     set name [get_property -quiet NAME [get_bd_nets $net]]
# 	set pin [lindex [get_bd_pins -of_objects [get_bd_nets $net]] 0]
# 	set busStart [get_property -quiet LEFT [get_bd_pins $pin]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_pins $pin]]
#     if {$busStart != {}} {
#     #   set busWidth [get_property -quiet BUS_WIDTH [get_ports $port]]
#       array set busNets [list $name [list $busStop $busStart]]
#     } else {
#       lappend bitNets $name
#     }
#   }
#   return 0
# }
# proc array2sortedList { &ar } {
# 
#   upvar ${&ar} ar
#   set sortedList [list]
#   foreach key [lsort -dictionary [array names ar]] {
#     lappend sortedList $key
#     lappend sortedList $ar($key)
#   }
#   return $sortedList
# }
# proc getInPinNet { cell pin default_value} {
# 	set pin [get_bd_pins -quiet $pin]
# 	set net [get_bd_nets -quiet -of_objects $pin]
# 	if {$net == ""} {
# 		catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin} nepripojen, bude pripojeno k $default_value"}
# 		set net_name $default_value
# 	} else {
# 		set net_name [get_property NAME $net]
# 	}
# 	return $net_name
# }
# proc getGate { cell  function} {
# 	set inputs_count [get_property CONFIG.Inputs [get_bd_cells -quiet $cell]]
# 	set content {}
# 	set prom {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 	for {set i 0} { $i < $inputs_count } { incr i } {
# 		set cfg [format "CONFIG.I%u_Inverted" $i]
# 		set pin [format "%s/I%u" $cell $i]
# 		set inverted [get_property $cfg  [get_bd_cells -quiet $cell]]
# 		#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 		set net_name [getInPinNet $cell $pin "\'0\'"]
# 		#set net_name [get_property NAME $net]
# 		if {$inverted == "true"} {
# 			append prom [format "not(%s)" $net_name]
# 		} else {
# 			append prom [format "%s" $net_name]
# 		}
# 		if {$i < ($inputs_count-1)} {
# 			append prom [format " %s " $function]
# 		}
# 	}
# 	set cfg [format "CONFIG.O_Inverted" $i]
# 	set pin [format "%s/O" $cell]
# 	set inverted [get_property $cfg  [get_bd_cells -quiet $cell]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$inverted == "true"} {
# 			append content [format "\t%s <= not(%s);\n" $out_name $prom];	
# 		} else {
# 			append content [format "\t%s <= %s;\n" $out_name $prom];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getBuf { cell  function } {
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/I" $cell]
# 	#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 	#set net_name [get_property NAME $net]
# 	set net_name [getInPinNet $cell $pin "\'0\'"]
# 
# 	set pin [format "%s/O" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$function == true} {
# 			append content [format "\t%s <= not(%s);\n" $out_name $net_name];	
# 		} else {
# 			append content  [format "\t%s <= %s;\n" $out_name $net_name];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getSource { cell  function } {
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/O" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$function == true} {
# 			append content [format "\t%s <= '1';\n" $out_name];	
# 		} else {
# 			append content [format "\t%s <= '0';\n" $out_name];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getSplitter { cell } {
# 	set width [get_property CONFIG.WIDTH [get_bd_cells -quiet $cell]]
# 	set pin [format "%s/I" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set in_name [get_property NAME $net]
# 		set content {}
# 		set name [get_property NAME $cell]
# 		append content [format "\n\t-- %s\n" $name]
# 		for {set i 0} { $i < $width } { incr i } {
# 			set pin [format "%s/O%u" $cell $i]
# 			set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 			if {$net != ""} {
# 				set net_name [get_property NAME $net]
# 				append content [format "\t%s <= %s(%u);\n" $net_name $in_name $i]
# 			} else {
# 				catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: ${pin} odstranen, vystup neni pripojen!"}
# 			}
# 		}
# 	} else {
# 		set content {}
# 		set name [get_property NAME $cell]
# 		append content [format "\n\t-- %s\n" $name]
# 		for {set i 0} { $i < $width } { incr i } {
# 			set pin [format "%s/O%u" $cell $i]
# 			set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 			if {$net != ""} {
# 				set net_name [get_property NAME $net]
# 				append content [format "\t%s <= \'0\';\n" $net_name $i]
# 				catch {common::send_msg_id "bd2vhdl  jadro-2" "CRITICAL WARNING" "${cell} nepripojen vstup, ${net_name} bude pripojeno k \'0\'"}
# 			} else {
# 				catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: ${pin} odstranen, vystup neni pripojen!"}
# 			}
# 		}
# 	}
# 	return $content
# }
# proc getDff { cell } {
# 	set ce [get_property CONFIG.CE [get_bd_cells -quiet $cell]]
# 	set reset [get_property CONFIG.Reset [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/q" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 
# 		set pin [format "%s/clk" $cell]
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net == ""} {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, nejsou pripojene hodiny!"}
# 			return [append content "\t-- odstraneno, , nejsou pripojene hodiny!\n"]
# 		}
# 		#set clk_name [get_property NAME $net]
# 		set clk_name [getInPinNet $cell $pin "\'0\'"]
# 
# 		set pin [format "%s/d" $cell]
# 		#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 		#set in_name [get_property NAME $net]
# 		set in_name [getInPinNet $cell $pin "\'0\'"]
# 
# 		if {$ce == "true"} {
# 			set pin [format "%s/ce" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set ce_name [get_property NAME $net]
# 			set ce_name [getInPinNet $cell $pin "\'1\'"]
# 		}
# 
# 		if {$reset == "true"} {
# 			set pin [format "%s/reset" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set reset_name [get_property NAME $net]
# 			set reset_name [getInPinNet $cell $pin "\'0\'"]
# 		}
# 
# 		append content [format "\tprocess (%s)\n\tbegin\n" $clk_name]
# 		append content [format "\t\tif rising_edge(%s) then\n" $clk_name]
# 		if {$reset == "true"} {
# 			append content [format "\t\t\tif %s = '1' then\n\t\t\t\t%s <= '0';\n\t\t\tels" $reset_name $out_name]
# 		} else {
# 			append content "\t\t\t"
# 		}
# 
# 		if {$ce == "true"} {
# 			append content [format "if %s = '1' then\n" $ce_name]
# 			append content [format "\t\t\t\t%s <= %s;\n" $out_name $in_name]
# 			append content "\t\t\tend if;\n"
# 		} else {
# 			if {$reset == "true"} {
# 				append content [format "e\n\t\t\t\t%s <= %s;\n" $out_name $in_name]
# 				append content "\t\t\tend if;\n"
# 			} else {
# 				append content [format "%s <= %s;\n" $out_name $in_name]
# 			}
# 		}
# 
# 		append content "\t\tend if;\n\tend process;\n";
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# 	return $content
# }
# proc getMux { cell } {
# 	set ports_count [get_property CONFIG.Data_Ports [get_bd_cells -quiet $cell]]
# 	set width [get_property CONFIG.WIDTH [get_bd_cells -quiet $cell]]
# 	set i0_bus [get_property CONFIG.I0_BUS [get_bd_cells -quiet $cell]]
# 	set i1_bus [get_property CONFIG.I1_BUS [get_bd_cells -quiet $cell]]
# 	set i2_bus [get_property CONFIG.I2_BUS [get_bd_cells -quiet $cell]]
# 	set i3_bus [get_property CONFIG.I3_BUS [get_bd_cells -quiet $cell]]
# 	set o_bus [get_property CONFIG.O_BUS [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	for {set i 0} { $i < $width } { incr i } {
# 		if {$o_bus == "true"} {
# 			set pin [format "%s/O" $cell]
# 			set vecO [format "(%u)" $i]
# 		} else {
# 			set pin [format "%s/O_%u" $cell $i]
# 			set vecO ""
# 		}
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net != ""} {
# 			set out_name [get_property NAME $net]
# 
# 			if {$i0_bus == "true"} {
# 				set pin [format "%s/I0" $cell]
# 				set vec0 [format "(%u)" $i]
# 			} else {
# 				set pin [format "%s/I0_%u" $cell $i]
# 				set vec0 ""
# 			}
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set i0_name [get_property NAME $net]
# 			set i0_name [getInPinNet $cell $pin "\'0\'"]
# 			if {$i0_name == "'0'"} {
# 				set vec0 ""
# 			}
# 
# 			if {$i1_bus == "true"} {
# 				set pin [format "%s/I1" $cell]
# 				set vec1 [format "(%u)" $i]
# 			} else {
# 				set pin [format "%s/I1_%u" $cell $i]
# 				set vec1 ""
# 			}
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set i1_name [get_property NAME $net]
# 			set i1_name [getInPinNet $cell $pin "\'0\'"]
# 			if {$i1_name == "'0'"} {
# 				set vec1 ""
# 			}
# 
# 			set pin [format "%s/Sel0" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set sel0_name [get_property NAME $net]
# 			set sel0_name [getInPinNet $cell $pin "\'0\'"]
# 
# 			if {$ports_count > 2} {
# 				if {$i2_bus == "true"} {
# 					set pin [format "%s/I2" $cell]
# 					set vec2 [format "(%u)" $i]
# 				} else {
# 					set pin [format "%s/I2_%u" $cell $i]
# 					set vec2 ""
# 				}
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set i2_name [get_property NAME $net]
# 				set i2_name [getInPinNet $cell $pin "\'0\'"]
# 				if {$i2_name == "'0'"} {
# 					set vec2 ""
# 				}
# 
# 				if {$i3_bus == "true"} {
# 					set pin [format "%s/I3" $cell]
# 					set vec3 [format "(%u)" $i]
# 				} else {
# 					set pin [format "%s/I3_%u" $cell $i]
# 					set vec3 ""
# 				}
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set i3_name [get_property NAME $net]
# 				set i3_name [getInPinNet $cell $pin "\'0\'"]
# 				if {$i3_name == "'0'"} {
# 					set vec3 ""
# 				}
# 
# 				set pin [format "%s/Sel1" $cell]
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set sel1_name [get_property NAME $net]
# 				set sel1_name [getInPinNet $cell $pin "\'0\'"]
# 				
# 				if {$sel0_name != "'0'" && $sel1_name != "'0'"} {
# 					append content [format "\t%s%s <= %s%s when %s = '0' and %s = '0' else\n" $out_name $vecO $i0_name $vec0 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '0' and %s = '1' else\n" $i1_name $vec1 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '1' and %s = '0' else\n" $i2_name $vec2 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '1' and %s = '1' else '0';\n\n" $i3_name $vec3 $sel1_name $sel0_name]
# 				} else {
# 					append content [format "\t%s%s <= %s%s;\n" $out_name $vecO $i0_name $vec0]
# 				}
# 			} else {
# 				if {$sel0_name != "'0'"} {
# 					append content [format "\t%s%s <= %s%s when (%s = '1') else %s%s;\n" $out_name $vecO $i1_name $vec1 $sel0_name $i0_name $vec0]
# 				} else {
# 					append content [format "\t%s%s <= %s%s;\n" $out_name $vecO $i0_name $vec0]
# 				}
# 			}
# 		} else {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" " ${cell}: pin ${pin} odstranen, vystup neni pripojen!"}
# 			return [append content "\t-- ${pin} odstranen, vystup neni pripojen\n"]
# 		}
# 		
# 	}
# 	return $content
# }
# proc getDebounce { cell } {
# 	set width [get_property CONFIG.width [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/tl_out" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set tl_out [get_property NAME $net]
# 
# 		set pin [format "%s/clk" $cell]
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net != ""} {
# 			set clk [get_property NAME $net]
# 
# 			set pin [format "%s/tl_in" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set tl_in [get_property NAME $net]
# 			set tl_in [getInPinNet $cell $pin "\'0\'"]
# 
# 			append content [ format "\t%s : debounce\n\t\tgeneric map (\n\t\t\twidth => %s\n\t\t)\n\t\tport map (\n\t\t\tclk	=> %s,\n\t\t\ttl_in	=> %s,\n\t\t\ttl_out	=> %s\n\t\t);\n" $name $width $clk $tl_in $tl_out]
# 		} else {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, nejsou pripojene hodiny!"}
# 			return [append content "\t-- odstraneno, , nejsou pripojene hodiny!\n"]	
# 		}
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# 	
# 	return $content
# }
# set debounce_component "\tcomponent debounce
# \t\tgeneric (
# \t\t\twidth: integer := 22
# \t\t);
# \t\tport (
# \t\t\tclk    : in  std_logic;
# \t\t\ttl_in  : in  std_logic;
# \t\t\ttl_out : out std_logic
# \t\t);
# \tend component;\n"
# proc getModule_ref { cell components component_name} {
# 	upvar $components comps
# 
# 	set inPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==I]]
# 	array set inputBusPins [list]
# 	array set inputBitPins [list]
# 	sortPins $inPins inputBusPins inputBitPins
# 
# 	set outPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==O]]
# 	array set outputBusPins [list]
# 	array set outputBitPins [list]
# 	sortPins $outPins outputBusPins outputBitPins
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set lines [list]
# 	foreach {pin net} [array2sortedList inputBitPins] {
#     	lappend lines [list "$pin" "in  std_logic;" "$net"]
#   	}
# 	foreach {pin busInfo} [array2sortedList inputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin" "in  std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "in  std_logic_vector($start to $stop);" "$net"]
# 		}
#   	}
# 	foreach {pin net} [array2sortedList outputBitPins] {
#     	lappend lines [list "$pin" "out std_logic;" "$net"]
# 	}
# 	foreach {pin busInfo} [array2sortedList outputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin"  "out std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "out std_logic_vector($start to $stop);" "$net"]
# 		}
# 	}
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 	set ports {}
# 	set port_map {}
# 	foreach line $lines {
# 		append ports [format "\n\t\t\t%-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 		append port_map [format "\n\t\t\t%-${maxWidth}s =>  %-${maxWidth}s," [lindex $line 0] [lindex $line 2]]
# 	}
# 	# Remove the last semi-colon
#   	set index [string last {;} $ports]
#   	set ports [string replace $ports $index $index {}]
# 	# Remove the last ,
#   	set index [string last {,} $port_map]
#   	set port_map [string replace $port_map $index $index {}]
# 
# 	# nepridavat pokud uz tam ta komponenta je
# 	if {[string first $component_name $comps] < 0} {
# 		append comps "\tcomponent ${component_name}\n\t\tport ("
# 		append comps $ports
# 		append comps "\n\t\t);\n\tend component;\n\n"
# 	}
# 	append content "\tinst_${name} : ${component_name}\n"
# 	append content "\t\tport map ("
# 	append content $port_map
# 	append content "\n\t\t);\n"
# }
# proc getHier { cell debounce components modules} {
# 	global debounce_component
# 	upvar $components comps
# 	upvar $modules mods
# 	upvar $debounce debs
# 
# 	set inPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==I]]
# 	array set inputBusPins [list]
# 	array set inputBitPins [list]
# 	sortPins $inPins inputBusPins inputBitPins
# 
# 	set outPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==O]]
# 	array set outputBusPins [list]
# 	array set outputBitPins [list]
# 	sortPins $outPins outputBusPins outputBitPins
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set lines [list]
# 	foreach {pin net} [array2sortedList inputBitPins] {
#     	lappend lines [list "$pin" "in  std_logic;" "$net"]
#   	}
# 	foreach {pin busInfo} [array2sortedList inputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin" "in  std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "in  std_logic_vector($start to $stop);" "$net"]
# 		}
#   	}
# 	foreach {pin net} [array2sortedList outputBitPins] {
#     	lappend lines [list "$pin" "out std_logic;" "$net"]
# 	}
# 	foreach {pin busInfo} [array2sortedList outputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin"  "out std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "out std_logic_vector($start to $stop);" "$net"]
# 		}
# 	}
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 	set ports {}
# 	set port_map {}
# 	foreach line $lines {
# 		append ports [format "\n\t\t\t%-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 		append port_map [format "\n\t\t\t%-${maxWidth}s =>  %-${maxWidth}s," [lindex $line 0] [lindex $line 2]]
# 	}
# 	# Remove the last semi-colon
#   	set index [string last {;} $ports]
#   	set ports [string replace $ports $index $index {}]
# 	# Remove the last ,
#   	set index [string last {,} $port_map]
#   	set port_map [string replace $port_map $index $index {}]
# 
# 	set filtr [format {PATH !~ "%s/.*/.*"} $cell]
# 	set nets [lsort [get_bd_nets -quiet -of_objects [get_bd_cells $cell] -regexp -filter $filtr]]
# 	array set busNets [list ]
# 	set bitNets [list]
# 	sortNets $nets busNets bitNets
# 
# 	set lines [list]
# 	# Process single bit nets
# 	foreach net [lsort -dictionary $bitNets] {
# 		lappend lines [list "$net" "  std_logic;"]
# 	}
# 	# Process bus nets
# 	foreach {net busInfo} [array2sortedList busNets] {
# 		lassign $busInfo stop start
# 		if {$start>$stop} {
# 		lappend lines [list "$net" "  std_logic_vector($start downto $stop);"]
# 		} else {
# 		lappend lines [list "$net" "  std_logic_vector($start to $stop);"]
# 		}
# 	}
# 
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 
# 	# Build the content of the stub:
# 	set signals {}
# 	foreach line $lines {
# 		append signals [format "\n\tsignal %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 	}
#   set ports2Signals {}
#     foreach net [lsort -dictionary $nets] {
#         set net_name [get_property NAME [get_bd_nets -quiet $net]]
#         set ports_b [get_bd_ports -quiet -of_objects [get_bd_nets -quiet $net]]
#         if {$ports == {}} {
#             break
#         }
#         foreach port [lsort -dictionary $ports_b] {
#             set port_name [get_property NAME [get_bd_pins -quiet $port]]
#             set dir [get_property DIR [get_bd_pins -quiet $port]]
#             if {$dir == "I"} {
#                 append ports2Signals "\t$net_name <= $port_name;\n"    
#             } else {
#                 append ports2Signals "\t$port_name <= $net_name;\n"
#             }
#         }
#     }
#   
# 	set debounce_inner false
#   	set components_inner {}
#   	set modules_inner {}
#   	set body [getIPs $cell debounce_inner components_inner modules_inner]
# 	if {$debounce_inner} {
# 		puts "######################################################################x"
# 		append components_inner $debounce_component
# 		set debs true
#     }
# 	
# 	set comp_name [string replace $cell 0 0 {}]
#     set comp_name [string map {/ _} $comp_name]
#     append comps "\tcomponent ${comp_name}\n\t\tport ("
#     append mods "\n\nlibrary IEEE;\nuse IEEE.std_logic_1164.all;\n\n"
#     append mods "entity ${comp_name} is\n\tport("
#     append mods $ports
#     append comps $ports
#     append mods "\n\t\t);\nend entity ${comp_name};\n\narchitecture Behavioral of ${comp_name} is\n"
#     append mods $components_inner
#     append mods $signals
#     append mods "\nbegin\n"
#     append mods $ports2Signals
#     append mods $body
#     append mods "\nend Behavioral;"
#     append comps "\n\t\t);\n\tend component;\n\n"
#     append content "\tinst_${comp_name} : ${comp_name}\n"
#     append content "\t\tport map ("
#     append content $port_map
#     append content "\n\t\t);\n"
#     append mods $modules_inner
# 
# 	return $content
# }
# proc getIPs { parent debounce components modules} {
#   upvar $debounce deb
#   upvar $components comps
#   upvar $modules mods
#   if {$parent == ""} {
# 	set cells [get_bd_cells]	  
#   } else {
# 	set filtr [format {PATH !~ "%s/.*/.*"} $parent]
# 	set cells [get_bd_cells -of_objects [get_bd_cells $parent] -regexp -filter $filtr]
#   }
#   
#   set content {}
#   foreach cell [lsort -dictionary $cells] {
# 	set type [get_property TYPE [get_bd_cells -quiet $cell]]
# 	set name [get_property NAME [get_bd_cells -quiet $cell]]
# 	set vlnv [get_property VLNV [get_bd_cells -quiet $cell]]
# 	if {$type == "ip"} {
# 		set vlnvs [split $vlnv ":"]
# 		if {[lindex $vlnvs 0] == "FIT"} {
# 		 	switch [lindex $vlnvs 2] {
# 				"or" {
# 					append content [getGate $cell "or"]
# 				}
# 				"and" {
# 					append content [getGate $cell "and"]
# 				}
# 				"xor" {
# 					append content [getGate $cell "xor"]
# 				}
# 				"buf" {
# 					append content [getBuf $cell false]
# 				}
# 				"inv" {
# 					append content [getBuf $cell true]
# 				}
# 				"gnd" {
# 					append content [getSource $cell false]
# 				}
# 				"vcc" {
# 					append content [getSource $cell true]
# 				}
# 				"splitter" {
# 					append content [getSplitter $cell]
# 				}
# 				"mux" {
# 					append content [getMux $cell]
# 				}
# 				"dff" {
# 					append content [getDff $cell]
# 				}
# 				"debounce" {
# 					append content [getDebounce $cell]
# 					set deb true
# 				}
# 			}
# 		} elseif {[lindex $vlnvs 0] == "xilinx.com" && [lindex $vlnvs 1] == "module_ref"} {
# 			append content [getModule_ref $cell comps [lindex $vlnvs 2]]
# 		}
# 			
# 	} elseif {$type == "hier"} {
# 		append content [getHier $cell deb comps mods]
# 	}
#   }
#   return $content
# }
# set debounce_code "\n\n\nlibrary IEEE;
# use IEEE.STD_LOGIC_1164.ALL;
# use ieee.std_logic_unsigned.all;
# 
# entity debounce is
#     generic (
# 		width: integer := 22 -- 100 MHz clock -> 4 - simulation (90 ns); 22 - synthesis (ca. 20 ms)
# 	);
#     port (
# 		clk : in STD_LOGIC;
#         tl_in : in STD_LOGIC;
#         tl_out : out STD_LOGIC
# 	);
# end entity debounce;
# 
# architecture Behavioral of debounce is
# 
# signal cnt       : std_logic_vector(width-1 downto 0) := (others => '0');
# signal reset, ce : std_logic := '0';
# signal tl_prev   : std_logic := '0';
# 
# 
# begin
# 
#     counter: process(clk) begin
#         if rising_edge(clk) then 
#             if (reset = '1') then
#                 cnt <= (others => '0');
#             elsif (ce = '1') then
#                 cnt <= cnt + 1;
#             end if;
#         end if;
#     end process;
# 
#     process(clk) begin
#         if rising_edge(clk) then
#             if (tl_prev /= tl_in) then
#                 reset <= '1';
#             else 
#                 reset <= '0';
#             end if;
#         end if;
#     end process;
#                 
#     process(clk) begin
#         if rising_edge(clk) then
#             if (reset = '1') then
#                 tl_prev <= tl_in;
#             end if;
#         end if;
#     end process;
#                 
#     process(clk) begin
#         if rising_edge(clk) then
#             if ((cnt(width-1) = '1') and (cnt(0) = '0')) then
#                 tl_out <= tl_prev;
#             end if;
#         end if;
#     end process;
#                 
# 
#     ce <= '0' when ((cnt(width-1) = '1') and (cnt(0) = '1'))
#                 else '1';
# 
# end Behavioral;\n"
# proc vhdlTemplate { module } {
#   global debounce_code
#   global debounce_component
# 
#   set inPorts [lsort [get_bd_ports -quiet -filter DIR==I]]
#   array set inputBusPorts [list ]
#   set inputBitPorts [list]
#   sortPorts $inPorts inputBusPorts inputBitPorts
# 
#   set outPorts [lsort [get_bd_ports -quiet -filter DIR==O]]
#   array set outputBusPorts [list ]
#   set outputBitPorts [list]
#   sortPorts $outPorts outputBusPorts outputBitPorts
# 
#   set inoutPorts [lsort [get_bd_ports -quiet -filter DIR==IO]]
#   array set inoutBusPorts [list ]
#   set inoutBitPorts [list]
#   sortPorts $inoutPorts inoutBusPorts inoutBitPorts
# 
#   set lines [list]
#   # Process input single bit ports
# #   lappend lines "-- Input Ports - Single Bit"
#   foreach port [lsort -dictionary $inputBitPorts] {
#     lappend lines [list "$port" "in  std_logic;"]
#   }
#   # Process input bus ports
# #   lappend lines "-- Input Ports - Busses"
#   foreach {port busInfo} [array2sortedList inputBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port" "in  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "in  std_logic_vector($start to $stop);"]
#     }
#   }
#   # Process output single bit ports
# #   lappend lines "-- Output Ports - Single Bit"
#   foreach port [lsort -dictionary $outputBitPorts] {
#     lappend lines [list "$port" "out std_logic;"]
#   }
#   # Process output bus ports
# #   lappend lines "-- Output Ports - Busses"
#   foreach {port busInfo} [array2sortedList outputBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port"  "out std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "out std_logic_vector($start to $stop);"]
#     }
#   }
#   # Process inout single bit ports
# #   lappend lines "-- InOut Ports - Single Bit"
#   foreach port [lsort -dictionary $inoutBitPorts] {
#     lappend lines [list "$port" "inout  std_logic;"]
#   }
#   # Process inout bus ports
# #   lappend lines "-- InOut Ports - Busses"
#   foreach {port busInfo} [array2sortedList inoutBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port" "inout  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "inout  std_logic_vector($start to $stop);"]
#     }
#   }
# 
#   # Detect maximum column width to align columns
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Skip lines that are just comments
#       continue
#     }
#     set width [string length [lindex $line 0]]
#     if {![info exist maxWidth] || $maxWidth < $width} {
#       set maxWidth $width
#     }
#   }
# 
#   # Build the content of the stub:
#   set content {}
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Lines that are just comments
#       append content "\n      $line"
#       continue
#     }
#     append content [format "\n      %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
#   }
# 
#   # Remove the last semi-colon
#   set index [string last {;} $content]
#   set content [string replace $content $index $index {}]
# 
# 
#   set nets [lsort [get_bd_nets -quiet]]
#   array set busNets [list ]
#   set bitNets [list]
#   sortNets $nets busNets bitNets
# 
#   set lines [list]
#   # Process single bit nets
#   foreach net [lsort -dictionary $bitNets] {
#     lappend lines [list "$net" "  std_logic;"]
#   }
#   # Process bus nets
#   foreach {net busInfo} [array2sortedList busNets] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$net" "  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$net" "  std_logic_vector($start to $stop);"]
#     }
#   }
# 
#   # Detect maximum column width to align columns
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Skip lines that are just comments
#       continue
#     }
#     set width [string length [lindex $line 0]]
#     if {![info exist maxWidth] || $maxWidth < $width} {
#       set maxWidth $width
#     }
#   }
# 
#   # Build the content of the stub:
#   set signals {}
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Lines that are just comments
#       append signals "\n      $line"
#       continue
#     }
#     append signals [format "\n      signal %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
#   }
#   set ports2Signals {}
#   foreach port [lsort -dictionary $inPorts] {
# 	set port_name [get_property NAME [get_bd_ports -quiet $port]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_ports -quiet $port]]
# 	if {$net != ""} {
# 		set net_name [get_property NAME $net]
# 		append ports2Signals "\t$net_name <= $port_name;\n"
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl   port-2" "CRITICAL WARNING" "${port_name}: port nepripojen!"}
# 	}
#   }
#   foreach port [lsort -dictionary $outPorts] {
# 	set port_name [get_property NAME [get_bd_ports -quiet $port]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_ports -quiet $port]]
# 	if {$net != ""} {
# 		set net_name [get_property NAME $net]
# 		append ports2Signals "\t$port_name <= $net_name;\n"
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl   port-3" "CRITICAL WARNING" "${port_name}: port nepripojen!"}
# 	}
#   }
#   set debounce false
#   set components {}
#   set modules {}
#   set body [getIPs "" debounce components modules]
#   
#   if {$debounce} {
# 	  append components $debounce_component
#   }
#   # Now that the last semi-colon is replaced, add the header and footer
#   set content [format "library IEEE;
# use IEEE.std_logic_1164.all;
# 
# library xil_defaultlib;
# use xil_defaultlib.all;
# 
# entity ${module}_vhdl is
#    port (%s
#    );
# end entity ${module}_vhdl;
# 
# architecture Behavioral of ${module}_vhdl is
# %s
# %s
# begin
# %s
# %s
# end Behavioral;" $content $components $signals $ports2Signals $body]
# 
#   append content $modules
# 
#   if {$debounce} {
# 	  append content $debounce_code
#   }
# 
#   return $content
# }
# set name [current_bd_design -quiet]
# if {$name == ""} {
#     common::send_msg_id -continue "bd2vhdl design-2" "ERROR" "Je potreba otevrit block design!"
# 	return
# }
# save_bd_design $name
Wrote  : <D:\VivadoProjects\decoder_bon1\decoder_bon1.srcs\sources_1\bd\decoder_schema\decoder_schema.bd> 
Wrote  : <D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/sources_1/bd/decoder_schema/ui/bd_f304c1dc.ui> 
# validate_bd_design -force
# if { [llength [get_bd_ports]] > 0 } {
# 	puts "\n##### ${name} #####"
# 	set content [vhdlTemplate $name]
# 	set PROJ_DIR [get_property DIRECTORY [current_project]]
# 	set PROJ_DIR [file normalize $PROJ_DIR]
# 	set tmp_dir [file join $PROJ_DIR "tmp"]
# 	file mkdir $tmp_dir
# 	set filename "${name}.vhd"
# 	set filename_path [file join $tmp_dir $filename]
# 	# Save the template
# 	set mode {w}
# 	puts "\nCreating VHDL for Design $name in [file normalize $filename]\n"
# 	set tfh [open $filename_path $mode]
# 	puts $tfh $content
# 	close $tfh
# 
# 	import_files -force -norecurse $filename_path
# 	common::send_msg_id "bd2vhdl design-1" "INFO" "${name}_vhdl.vhd vygenerovan"
# } else {
# 	common::send_msg_id -continue "bd2vhdl design-3" "ERROR" "${name} neobsahuje zadne porty!"
# }

##### decoder_schema #####

Creating VHDL for Design decoder_schema in D:/VivadoProjects/decoder_bon1/decoder_schema.vhd

INFO: [bd2vhdl design-1] decoder_schema_vhdl.vhd vygenerovan
validate_bd_design -force
source D:/VivadoProjects/lib_SAP_2022_02_02/gen_bd_vhdl.tcl
# proc sortPorts { ports &bus &bit } {
# 
#   upvar ${&bus} busPorts
#   upvar ${&bit} bitPorts
#   array set busPorts [list]
#   set bitPorts [list]
# 
#   foreach port $ports {
#     set name [get_property -quiet NAME [get_bd_ports $port]]
# 	set busStart [get_property -quiet LEFT [get_bd_ports $port]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_ports $port]]
#     if {$busStart != {}} {
#     #   set busWidth [get_property -quiet BUS_WIDTH [get_ports $port]]
#       array set busPorts [list $name [list $busStop $busStart]]
#     } else {
#       lappend bitPorts $name
#     }
#   }
#   return 0
# }
# proc sortPins { pins &bus &bit } {
# 
#   upvar ${&bus} busPins
#   upvar ${&bit} bitPins
#   array set busPins [list]
#   array set bitPins [list]
# 
#   foreach pin $pins {
#     set name [get_property -quiet NAME [get_bd_pins $pin]]
# 	set dir [get_property -quiet DIR [get_bd_pins $pin]]
# 	set busStart [get_property -quiet LEFT [get_bd_pins $pin]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_pins $pin]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins $pin]]
# 	if {$net != ""} {
# 		set net_name [get_property -quiet NAME $net]
# 	} else {
# 		if {$dir == "I"} {
# 			if {$busStart != {}} {
# 				set net_name "(others => '0')"
# 				catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin}: nepripojen, bude pripojen k '0'"}
# 			} else {
# 				set net_name "'0'"
# 				catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin}: nepripojen, bude pripojen k '0'"}
# 			}
# 		} else {
# 			set net_name "open"
# 			catch {common::send_msg_id "bd2vhdl    pin-3" "CRITICAL WARNING" "${pin}: pin odstranen, vystup neni pripojen!"}
# 		}
# 	}
# 	if {$busStart != {}} {
# 		array set busPins [list $name [list $busStop $busStart $net_name]]
# 	} else {
# 		array set bitPins [list $name $net_name]
# 	}
#   }
#   return 0
# }
# proc sortNets { nets &bus &bit } {
# 
#   upvar ${&bus} busNets
#   upvar ${&bit} bitNets
#   array set busNets [list ]
#   set bitNets [list]
# 
#   foreach net $nets {
#     set name [get_property -quiet NAME [get_bd_nets $net]]
# 	set pin [lindex [get_bd_pins -of_objects [get_bd_nets $net]] 0]
# 	set busStart [get_property -quiet LEFT [get_bd_pins $pin]]
#     set busStop  [get_property -quiet RIGHT  [get_bd_pins $pin]]
#     if {$busStart != {}} {
#     #   set busWidth [get_property -quiet BUS_WIDTH [get_ports $port]]
#       array set busNets [list $name [list $busStop $busStart]]
#     } else {
#       lappend bitNets $name
#     }
#   }
#   return 0
# }
# proc array2sortedList { &ar } {
# 
#   upvar ${&ar} ar
#   set sortedList [list]
#   foreach key [lsort -dictionary [array names ar]] {
#     lappend sortedList $key
#     lappend sortedList $ar($key)
#   }
#   return $sortedList
# }
# proc getInPinNet { cell pin default_value} {
# 	set pin [get_bd_pins -quiet $pin]
# 	set net [get_bd_nets -quiet -of_objects $pin]
# 	if {$net == ""} {
# 		catch {common::send_msg_id "bd2vhdl    pin-2" "CRITICAL WARNING" "${pin} nepripojen, bude pripojeno k $default_value"}
# 		set net_name $default_value
# 	} else {
# 		set net_name [get_property NAME $net]
# 	}
# 	return $net_name
# }
# proc getGate { cell  function} {
# 	set inputs_count [get_property CONFIG.Inputs [get_bd_cells -quiet $cell]]
# 	set content {}
# 	set prom {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 	for {set i 0} { $i < $inputs_count } { incr i } {
# 		set cfg [format "CONFIG.I%u_Inverted" $i]
# 		set pin [format "%s/I%u" $cell $i]
# 		set inverted [get_property $cfg  [get_bd_cells -quiet $cell]]
# 		#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 		set net_name [getInPinNet $cell $pin "\'0\'"]
# 		#set net_name [get_property NAME $net]
# 		if {$inverted == "true"} {
# 			append prom [format "not(%s)" $net_name]
# 		} else {
# 			append prom [format "%s" $net_name]
# 		}
# 		if {$i < ($inputs_count-1)} {
# 			append prom [format " %s " $function]
# 		}
# 	}
# 	set cfg [format "CONFIG.O_Inverted" $i]
# 	set pin [format "%s/O" $cell]
# 	set inverted [get_property $cfg  [get_bd_cells -quiet $cell]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$inverted == "true"} {
# 			append content [format "\t%s <= not(%s);\n" $out_name $prom];	
# 		} else {
# 			append content [format "\t%s <= %s;\n" $out_name $prom];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getBuf { cell  function } {
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/I" $cell]
# 	#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 	#set net_name [get_property NAME $net]
# 	set net_name [getInPinNet $cell $pin "\'0\'"]
# 
# 	set pin [format "%s/O" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$function == true} {
# 			append content [format "\t%s <= not(%s);\n" $out_name $net_name];	
# 		} else {
# 			append content  [format "\t%s <= %s;\n" $out_name $net_name];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getSource { cell  function } {
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/O" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 		if {$function == true} {
# 			append content [format "\t%s <= '1';\n" $out_name];	
# 		} else {
# 			append content [format "\t%s <= '0';\n" $out_name];
# 		}
# 		return $content
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# }
# proc getSplitter { cell } {
# 	set width [get_property CONFIG.WIDTH [get_bd_cells -quiet $cell]]
# 	set pin [format "%s/I" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set in_name [get_property NAME $net]
# 		set content {}
# 		set name [get_property NAME $cell]
# 		append content [format "\n\t-- %s\n" $name]
# 		for {set i 0} { $i < $width } { incr i } {
# 			set pin [format "%s/O%u" $cell $i]
# 			set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 			if {$net != ""} {
# 				set net_name [get_property NAME $net]
# 				append content [format "\t%s <= %s(%u);\n" $net_name $in_name $i]
# 			} else {
# 				catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: ${pin} odstranen, vystup neni pripojen!"}
# 			}
# 		}
# 	} else {
# 		set content {}
# 		set name [get_property NAME $cell]
# 		append content [format "\n\t-- %s\n" $name]
# 		for {set i 0} { $i < $width } { incr i } {
# 			set pin [format "%s/O%u" $cell $i]
# 			set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 			if {$net != ""} {
# 				set net_name [get_property NAME $net]
# 				append content [format "\t%s <= \'0\';\n" $net_name $i]
# 				catch {common::send_msg_id "bd2vhdl  jadro-2" "CRITICAL WARNING" "${cell} nepripojen vstup, ${net_name} bude pripojeno k \'0\'"}
# 			} else {
# 				catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: ${pin} odstranen, vystup neni pripojen!"}
# 			}
# 		}
# 	}
# 	return $content
# }
# proc getDff { cell } {
# 	set ce [get_property CONFIG.CE [get_bd_cells -quiet $cell]]
# 	set reset [get_property CONFIG.Reset [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/q" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set out_name [get_property NAME $net]
# 
# 		set pin [format "%s/clk" $cell]
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net == ""} {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, nejsou pripojene hodiny!"}
# 			return [append content "\t-- odstraneno, , nejsou pripojene hodiny!\n"]
# 		}
# 		#set clk_name [get_property NAME $net]
# 		set clk_name [getInPinNet $cell $pin "\'0\'"]
# 
# 		set pin [format "%s/d" $cell]
# 		#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 		#set in_name [get_property NAME $net]
# 		set in_name [getInPinNet $cell $pin "\'0\'"]
# 
# 		if {$ce == "true"} {
# 			set pin [format "%s/ce" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set ce_name [get_property NAME $net]
# 			set ce_name [getInPinNet $cell $pin "\'1\'"]
# 		}
# 
# 		if {$reset == "true"} {
# 			set pin [format "%s/reset" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set reset_name [get_property NAME $net]
# 			set reset_name [getInPinNet $cell $pin "\'0\'"]
# 		}
# 
# 		append content [format "\tprocess (%s)\n\tbegin\n" $clk_name]
# 		append content [format "\t\tif rising_edge(%s) then\n" $clk_name]
# 		if {$reset == "true"} {
# 			append content [format "\t\t\tif %s = '1' then\n\t\t\t\t%s <= '0';\n\t\t\tels" $reset_name $out_name]
# 		} else {
# 			append content "\t\t\t"
# 		}
# 
# 		if {$ce == "true"} {
# 			append content [format "if %s = '1' then\n" $ce_name]
# 			append content [format "\t\t\t\t%s <= %s;\n" $out_name $in_name]
# 			append content "\t\t\tend if;\n"
# 		} else {
# 			if {$reset == "true"} {
# 				append content [format "e\n\t\t\t\t%s <= %s;\n" $out_name $in_name]
# 				append content "\t\t\tend if;\n"
# 			} else {
# 				append content [format "%s <= %s;\n" $out_name $in_name]
# 			}
# 		}
# 
# 		append content "\t\tend if;\n\tend process;\n";
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# 	return $content
# }
# proc getMux { cell } {
# 	set ports_count [get_property CONFIG.Data_Ports [get_bd_cells -quiet $cell]]
# 	set width [get_property CONFIG.WIDTH [get_bd_cells -quiet $cell]]
# 	set i0_bus [get_property CONFIG.I0_BUS [get_bd_cells -quiet $cell]]
# 	set i1_bus [get_property CONFIG.I1_BUS [get_bd_cells -quiet $cell]]
# 	set i2_bus [get_property CONFIG.I2_BUS [get_bd_cells -quiet $cell]]
# 	set i3_bus [get_property CONFIG.I3_BUS [get_bd_cells -quiet $cell]]
# 	set o_bus [get_property CONFIG.O_BUS [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	for {set i 0} { $i < $width } { incr i } {
# 		if {$o_bus == "true"} {
# 			set pin [format "%s/O" $cell]
# 			set vecO [format "(%u)" $i]
# 		} else {
# 			set pin [format "%s/O_%u" $cell $i]
# 			set vecO ""
# 		}
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net != ""} {
# 			set out_name [get_property NAME $net]
# 
# 			if {$i0_bus == "true"} {
# 				set pin [format "%s/I0" $cell]
# 				set vec0 [format "(%u)" $i]
# 			} else {
# 				set pin [format "%s/I0_%u" $cell $i]
# 				set vec0 ""
# 			}
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set i0_name [get_property NAME $net]
# 			set i0_name [getInPinNet $cell $pin "\'0\'"]
# 			if {$i0_name == "'0'"} {
# 				set vec0 ""
# 			}
# 
# 			if {$i1_bus == "true"} {
# 				set pin [format "%s/I1" $cell]
# 				set vec1 [format "(%u)" $i]
# 			} else {
# 				set pin [format "%s/I1_%u" $cell $i]
# 				set vec1 ""
# 			}
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set i1_name [get_property NAME $net]
# 			set i1_name [getInPinNet $cell $pin "\'0\'"]
# 			if {$i1_name == "'0'"} {
# 				set vec1 ""
# 			}
# 
# 			set pin [format "%s/Sel0" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set sel0_name [get_property NAME $net]
# 			set sel0_name [getInPinNet $cell $pin "\'0\'"]
# 
# 			if {$ports_count > 2} {
# 				if {$i2_bus == "true"} {
# 					set pin [format "%s/I2" $cell]
# 					set vec2 [format "(%u)" $i]
# 				} else {
# 					set pin [format "%s/I2_%u" $cell $i]
# 					set vec2 ""
# 				}
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set i2_name [get_property NAME $net]
# 				set i2_name [getInPinNet $cell $pin "\'0\'"]
# 				if {$i2_name == "'0'"} {
# 					set vec2 ""
# 				}
# 
# 				if {$i3_bus == "true"} {
# 					set pin [format "%s/I3" $cell]
# 					set vec3 [format "(%u)" $i]
# 				} else {
# 					set pin [format "%s/I3_%u" $cell $i]
# 					set vec3 ""
# 				}
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set i3_name [get_property NAME $net]
# 				set i3_name [getInPinNet $cell $pin "\'0\'"]
# 				if {$i3_name == "'0'"} {
# 					set vec3 ""
# 				}
# 
# 				set pin [format "%s/Sel1" $cell]
# 				#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 				#set sel1_name [get_property NAME $net]
# 				set sel1_name [getInPinNet $cell $pin "\'0\'"]
# 				
# 				if {$sel0_name != "'0'" && $sel1_name != "'0'"} {
# 					append content [format "\t%s%s <= %s%s when %s = '0' and %s = '0' else\n" $out_name $vecO $i0_name $vec0 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '0' and %s = '1' else\n" $i1_name $vec1 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '1' and %s = '0' else\n" $i2_name $vec2 $sel1_name $sel0_name]
# 					append content [format "\t\t%s%s when %s = '1' and %s = '1' else '0';\n\n" $i3_name $vec3 $sel1_name $sel0_name]
# 				} else {
# 					append content [format "\t%s%s <= %s%s;\n" $out_name $vecO $i0_name $vec0]
# 				}
# 			} else {
# 				if {$sel0_name != "'0'"} {
# 					append content [format "\t%s%s <= %s%s when (%s = '1') else %s%s;\n" $out_name $vecO $i1_name $vec1 $sel0_name $i0_name $vec0]
# 				} else {
# 					append content [format "\t%s%s <= %s%s;\n" $out_name $vecO $i0_name $vec0]
# 				}
# 			}
# 		} else {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" " ${cell}: pin ${pin} odstranen, vystup neni pripojen!"}
# 			return [append content "\t-- ${pin} odstranen, vystup neni pripojen\n"]
# 		}
# 		
# 	}
# 	return $content
# }
# proc getDebounce { cell } {
# 	set width [get_property CONFIG.width [get_bd_cells -quiet $cell]]
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set pin [format "%s/tl_out" $cell]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 	if {$net != ""} {
# 		set tl_out [get_property NAME $net]
# 
# 		set pin [format "%s/clk" $cell]
# 		set net [get_bd_nets -quiet -of_objects [get_bd_pins -quiet $pin]]
# 		if {$net != ""} {
# 			set clk [get_property NAME $net]
# 
# 			set pin [format "%s/tl_in" $cell]
# 			#set net [get_bd_nets -of_objects [get_bd_pins -quiet $pin]]
# 			#set tl_in [get_property NAME $net]
# 			set tl_in [getInPinNet $cell $pin "\'0\'"]
# 
# 			append content [ format "\t%s : debounce\n\t\tgeneric map (\n\t\t\twidth => %s\n\t\t)\n\t\tport map (\n\t\t\tclk	=> %s,\n\t\t\ttl_in	=> %s,\n\t\t\ttl_out	=> %s\n\t\t);\n" $name $width $clk $tl_in $tl_out]
# 		} else {
# 			catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, nejsou pripojene hodiny!"}
# 			return [append content "\t-- odstraneno, , nejsou pripojene hodiny!\n"]	
# 		}
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl  jadro-3" "CRITICAL WARNING" "${cell}: odstraneno, vystup neni pripojen!"}
# 		return [append content "\t-- odstraneno, vystup neni pripojen\n"]
# 	}
# 	
# 	return $content
# }
# set debounce_component "\tcomponent debounce
# \t\tgeneric (
# \t\t\twidth: integer := 22
# \t\t);
# \t\tport (
# \t\t\tclk    : in  std_logic;
# \t\t\ttl_in  : in  std_logic;
# \t\t\ttl_out : out std_logic
# \t\t);
# \tend component;\n"
# proc getModule_ref { cell components component_name} {
# 	upvar $components comps
# 
# 	set inPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==I]]
# 	array set inputBusPins [list]
# 	array set inputBitPins [list]
# 	sortPins $inPins inputBusPins inputBitPins
# 
# 	set outPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==O]]
# 	array set outputBusPins [list]
# 	array set outputBitPins [list]
# 	sortPins $outPins outputBusPins outputBitPins
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set lines [list]
# 	foreach {pin net} [array2sortedList inputBitPins] {
#     	lappend lines [list "$pin" "in  std_logic;" "$net"]
#   	}
# 	foreach {pin busInfo} [array2sortedList inputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin" "in  std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "in  std_logic_vector($start to $stop);" "$net"]
# 		}
#   	}
# 	foreach {pin net} [array2sortedList outputBitPins] {
#     	lappend lines [list "$pin" "out std_logic;" "$net"]
# 	}
# 	foreach {pin busInfo} [array2sortedList outputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin"  "out std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "out std_logic_vector($start to $stop);" "$net"]
# 		}
# 	}
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 	set ports {}
# 	set port_map {}
# 	foreach line $lines {
# 		append ports [format "\n\t\t\t%-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 		append port_map [format "\n\t\t\t%-${maxWidth}s =>  %-${maxWidth}s," [lindex $line 0] [lindex $line 2]]
# 	}
# 	# Remove the last semi-colon
#   	set index [string last {;} $ports]
#   	set ports [string replace $ports $index $index {}]
# 	# Remove the last ,
#   	set index [string last {,} $port_map]
#   	set port_map [string replace $port_map $index $index {}]
# 
# 	# nepridavat pokud uz tam ta komponenta je
# 	if {[string first $component_name $comps] < 0} {
# 		append comps "\tcomponent ${component_name}\n\t\tport ("
# 		append comps $ports
# 		append comps "\n\t\t);\n\tend component;\n\n"
# 	}
# 	append content "\tinst_${name} : ${component_name}\n"
# 	append content "\t\tport map ("
# 	append content $port_map
# 	append content "\n\t\t);\n"
# }
# proc getHier { cell debounce components modules} {
# 	global debounce_component
# 	upvar $components comps
# 	upvar $modules mods
# 	upvar $debounce debs
# 
# 	set inPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==I]]
# 	array set inputBusPins [list]
# 	array set inputBitPins [list]
# 	sortPins $inPins inputBusPins inputBitPins
# 
# 	set outPins [lsort [get_bd_pins -quiet -of_objects [get_bd_cells $cell] -filter DIR==O]]
# 	array set outputBusPins [list]
# 	array set outputBitPins [list]
# 	sortPins $outPins outputBusPins outputBitPins
# 
# 	set content {}
# 	set name [get_property NAME $cell]
# 	append content [format "\n\t-- %s\n" $name]
# 
# 	set lines [list]
# 	foreach {pin net} [array2sortedList inputBitPins] {
#     	lappend lines [list "$pin" "in  std_logic;" "$net"]
#   	}
# 	foreach {pin busInfo} [array2sortedList inputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin" "in  std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "in  std_logic_vector($start to $stop);" "$net"]
# 		}
#   	}
# 	foreach {pin net} [array2sortedList outputBitPins] {
#     	lappend lines [list "$pin" "out std_logic;" "$net"]
# 	}
# 	foreach {pin busInfo} [array2sortedList outputBusPins] {
# 		lassign $busInfo stop start net
# 		if {$start>$stop} {
# 			lappend lines [list "$pin"  "out std_logic_vector($start downto $stop);" "$net"]
# 		} else {
# 			lappend lines [list "$pin" "out std_logic_vector($start to $stop);" "$net"]
# 		}
# 	}
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 	set ports {}
# 	set port_map {}
# 	foreach line $lines {
# 		append ports [format "\n\t\t\t%-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 		append port_map [format "\n\t\t\t%-${maxWidth}s =>  %-${maxWidth}s," [lindex $line 0] [lindex $line 2]]
# 	}
# 	# Remove the last semi-colon
#   	set index [string last {;} $ports]
#   	set ports [string replace $ports $index $index {}]
# 	# Remove the last ,
#   	set index [string last {,} $port_map]
#   	set port_map [string replace $port_map $index $index {}]
# 
# 	set filtr [format {PATH !~ "%s/.*/.*"} $cell]
# 	set nets [lsort [get_bd_nets -quiet -of_objects [get_bd_cells $cell] -regexp -filter $filtr]]
# 	array set busNets [list ]
# 	set bitNets [list]
# 	sortNets $nets busNets bitNets
# 
# 	set lines [list]
# 	# Process single bit nets
# 	foreach net [lsort -dictionary $bitNets] {
# 		lappend lines [list "$net" "  std_logic;"]
# 	}
# 	# Process bus nets
# 	foreach {net busInfo} [array2sortedList busNets] {
# 		lassign $busInfo stop start
# 		if {$start>$stop} {
# 		lappend lines [list "$net" "  std_logic_vector($start downto $stop);"]
# 		} else {
# 		lappend lines [list "$net" "  std_logic_vector($start to $stop);"]
# 		}
# 	}
# 
# 	# Detect maximum column width to align columns
# 	foreach line $lines {
# 		set width [string length [lindex $line 0]]
# 		if {![info exist maxWidth] || $maxWidth < $width} {
# 			set maxWidth $width
# 		}
# 	}
# 
# 	# Build the content of the stub:
# 	set signals {}
# 	foreach line $lines {
# 		append signals [format "\n\tsignal %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
# 	}
#   set ports2Signals {}
#     foreach net [lsort -dictionary $nets] {
#         set net_name [get_property NAME [get_bd_nets -quiet $net]]
#         set ports_b [get_bd_ports -quiet -of_objects [get_bd_nets -quiet $net]]
#         if {$ports == {}} {
#             break
#         }
#         foreach port [lsort -dictionary $ports_b] {
#             set port_name [get_property NAME [get_bd_pins -quiet $port]]
#             set dir [get_property DIR [get_bd_pins -quiet $port]]
#             if {$dir == "I"} {
#                 append ports2Signals "\t$net_name <= $port_name;\n"    
#             } else {
#                 append ports2Signals "\t$port_name <= $net_name;\n"
#             }
#         }
#     }
#   
# 	set debounce_inner false
#   	set components_inner {}
#   	set modules_inner {}
#   	set body [getIPs $cell debounce_inner components_inner modules_inner]
# 	if {$debounce_inner} {
# 		puts "######################################################################x"
# 		append components_inner $debounce_component
# 		set debs true
#     }
# 	
# 	set comp_name [string replace $cell 0 0 {}]
#     set comp_name [string map {/ _} $comp_name]
#     append comps "\tcomponent ${comp_name}\n\t\tport ("
#     append mods "\n\nlibrary IEEE;\nuse IEEE.std_logic_1164.all;\n\n"
#     append mods "entity ${comp_name} is\n\tport("
#     append mods $ports
#     append comps $ports
#     append mods "\n\t\t);\nend entity ${comp_name};\n\narchitecture Behavioral of ${comp_name} is\n"
#     append mods $components_inner
#     append mods $signals
#     append mods "\nbegin\n"
#     append mods $ports2Signals
#     append mods $body
#     append mods "\nend Behavioral;"
#     append comps "\n\t\t);\n\tend component;\n\n"
#     append content "\tinst_${comp_name} : ${comp_name}\n"
#     append content "\t\tport map ("
#     append content $port_map
#     append content "\n\t\t);\n"
#     append mods $modules_inner
# 
# 	return $content
# }
# proc getIPs { parent debounce components modules} {
#   upvar $debounce deb
#   upvar $components comps
#   upvar $modules mods
#   if {$parent == ""} {
# 	set cells [get_bd_cells]	  
#   } else {
# 	set filtr [format {PATH !~ "%s/.*/.*"} $parent]
# 	set cells [get_bd_cells -of_objects [get_bd_cells $parent] -regexp -filter $filtr]
#   }
#   
#   set content {}
#   foreach cell [lsort -dictionary $cells] {
# 	set type [get_property TYPE [get_bd_cells -quiet $cell]]
# 	set name [get_property NAME [get_bd_cells -quiet $cell]]
# 	set vlnv [get_property VLNV [get_bd_cells -quiet $cell]]
# 	if {$type == "ip"} {
# 		set vlnvs [split $vlnv ":"]
# 		if {[lindex $vlnvs 0] == "FIT"} {
# 		 	switch [lindex $vlnvs 2] {
# 				"or" {
# 					append content [getGate $cell "or"]
# 				}
# 				"and" {
# 					append content [getGate $cell "and"]
# 				}
# 				"xor" {
# 					append content [getGate $cell "xor"]
# 				}
# 				"buf" {
# 					append content [getBuf $cell false]
# 				}
# 				"inv" {
# 					append content [getBuf $cell true]
# 				}
# 				"gnd" {
# 					append content [getSource $cell false]
# 				}
# 				"vcc" {
# 					append content [getSource $cell true]
# 				}
# 				"splitter" {
# 					append content [getSplitter $cell]
# 				}
# 				"mux" {
# 					append content [getMux $cell]
# 				}
# 				"dff" {
# 					append content [getDff $cell]
# 				}
# 				"debounce" {
# 					append content [getDebounce $cell]
# 					set deb true
# 				}
# 			}
# 		} elseif {[lindex $vlnvs 0] == "xilinx.com" && [lindex $vlnvs 1] == "module_ref"} {
# 			append content [getModule_ref $cell comps [lindex $vlnvs 2]]
# 		}
# 			
# 	} elseif {$type == "hier"} {
# 		append content [getHier $cell deb comps mods]
# 	}
#   }
#   return $content
# }
# set debounce_code "\n\n\nlibrary IEEE;
# use IEEE.STD_LOGIC_1164.ALL;
# use ieee.std_logic_unsigned.all;
# 
# entity debounce is
#     generic (
# 		width: integer := 22 -- 100 MHz clock -> 4 - simulation (90 ns); 22 - synthesis (ca. 20 ms)
# 	);
#     port (
# 		clk : in STD_LOGIC;
#         tl_in : in STD_LOGIC;
#         tl_out : out STD_LOGIC
# 	);
# end entity debounce;
# 
# architecture Behavioral of debounce is
# 
# signal cnt       : std_logic_vector(width-1 downto 0) := (others => '0');
# signal reset, ce : std_logic := '0';
# signal tl_prev   : std_logic := '0';
# 
# 
# begin
# 
#     counter: process(clk) begin
#         if rising_edge(clk) then 
#             if (reset = '1') then
#                 cnt <= (others => '0');
#             elsif (ce = '1') then
#                 cnt <= cnt + 1;
#             end if;
#         end if;
#     end process;
# 
#     process(clk) begin
#         if rising_edge(clk) then
#             if (tl_prev /= tl_in) then
#                 reset <= '1';
#             else 
#                 reset <= '0';
#             end if;
#         end if;
#     end process;
#                 
#     process(clk) begin
#         if rising_edge(clk) then
#             if (reset = '1') then
#                 tl_prev <= tl_in;
#             end if;
#         end if;
#     end process;
#                 
#     process(clk) begin
#         if rising_edge(clk) then
#             if ((cnt(width-1) = '1') and (cnt(0) = '0')) then
#                 tl_out <= tl_prev;
#             end if;
#         end if;
#     end process;
#                 
# 
#     ce <= '0' when ((cnt(width-1) = '1') and (cnt(0) = '1'))
#                 else '1';
# 
# end Behavioral;\n"
# proc vhdlTemplate { module } {
#   global debounce_code
#   global debounce_component
# 
#   set inPorts [lsort [get_bd_ports -quiet -filter DIR==I]]
#   array set inputBusPorts [list ]
#   set inputBitPorts [list]
#   sortPorts $inPorts inputBusPorts inputBitPorts
# 
#   set outPorts [lsort [get_bd_ports -quiet -filter DIR==O]]
#   array set outputBusPorts [list ]
#   set outputBitPorts [list]
#   sortPorts $outPorts outputBusPorts outputBitPorts
# 
#   set inoutPorts [lsort [get_bd_ports -quiet -filter DIR==IO]]
#   array set inoutBusPorts [list ]
#   set inoutBitPorts [list]
#   sortPorts $inoutPorts inoutBusPorts inoutBitPorts
# 
#   set lines [list]
#   # Process input single bit ports
# #   lappend lines "-- Input Ports - Single Bit"
#   foreach port [lsort -dictionary $inputBitPorts] {
#     lappend lines [list "$port" "in  std_logic;"]
#   }
#   # Process input bus ports
# #   lappend lines "-- Input Ports - Busses"
#   foreach {port busInfo} [array2sortedList inputBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port" "in  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "in  std_logic_vector($start to $stop);"]
#     }
#   }
#   # Process output single bit ports
# #   lappend lines "-- Output Ports - Single Bit"
#   foreach port [lsort -dictionary $outputBitPorts] {
#     lappend lines [list "$port" "out std_logic;"]
#   }
#   # Process output bus ports
# #   lappend lines "-- Output Ports - Busses"
#   foreach {port busInfo} [array2sortedList outputBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port"  "out std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "out std_logic_vector($start to $stop);"]
#     }
#   }
#   # Process inout single bit ports
# #   lappend lines "-- InOut Ports - Single Bit"
#   foreach port [lsort -dictionary $inoutBitPorts] {
#     lappend lines [list "$port" "inout  std_logic;"]
#   }
#   # Process inout bus ports
# #   lappend lines "-- InOut Ports - Busses"
#   foreach {port busInfo} [array2sortedList inoutBusPorts] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$port" "inout  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$port" "inout  std_logic_vector($start to $stop);"]
#     }
#   }
# 
#   # Detect maximum column width to align columns
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Skip lines that are just comments
#       continue
#     }
#     set width [string length [lindex $line 0]]
#     if {![info exist maxWidth] || $maxWidth < $width} {
#       set maxWidth $width
#     }
#   }
# 
#   # Build the content of the stub:
#   set content {}
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Lines that are just comments
#       append content "\n      $line"
#       continue
#     }
#     append content [format "\n      %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
#   }
# 
#   # Remove the last semi-colon
#   set index [string last {;} $content]
#   set content [string replace $content $index $index {}]
# 
# 
#   set nets [lsort [get_bd_nets -quiet]]
#   array set busNets [list ]
#   set bitNets [list]
#   sortNets $nets busNets bitNets
# 
#   set lines [list]
#   # Process single bit nets
#   foreach net [lsort -dictionary $bitNets] {
#     lappend lines [list "$net" "  std_logic;"]
#   }
#   # Process bus nets
#   foreach {net busInfo} [array2sortedList busNets] {
#     lassign $busInfo stop start
#     if {$start>$stop} {
#       lappend lines [list "$net" "  std_logic_vector($start downto $stop);"]
#     } else {
#       lappend lines [list "$net" "  std_logic_vector($start to $stop);"]
#     }
#   }
# 
#   # Detect maximum column width to align columns
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Skip lines that are just comments
#       continue
#     }
#     set width [string length [lindex $line 0]]
#     if {![info exist maxWidth] || $maxWidth < $width} {
#       set maxWidth $width
#     }
#   }
# 
#   # Build the content of the stub:
#   set signals {}
#   foreach line $lines {
#     if {[regexp {^\s*\-\-} $line]} {
#       # Lines that are just comments
#       append signals "\n      $line"
#       continue
#     }
#     append signals [format "\n      signal %-${maxWidth}s :  %-${maxWidth}s" [lindex $line 0] [lindex $line 1]]
#   }
#   set ports2Signals {}
#   foreach port [lsort -dictionary $inPorts] {
# 	set port_name [get_property NAME [get_bd_ports -quiet $port]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_ports -quiet $port]]
# 	if {$net != ""} {
# 		set net_name [get_property NAME $net]
# 		append ports2Signals "\t$net_name <= $port_name;\n"
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl   port-2" "CRITICAL WARNING" "${port_name}: port nepripojen!"}
# 	}
#   }
#   foreach port [lsort -dictionary $outPorts] {
# 	set port_name [get_property NAME [get_bd_ports -quiet $port]]
# 	set net [get_bd_nets -quiet -of_objects [get_bd_ports -quiet $port]]
# 	if {$net != ""} {
# 		set net_name [get_property NAME $net]
# 		append ports2Signals "\t$port_name <= $net_name;\n"
# 	} else {
# 		catch {common::send_msg_id "bd2vhdl   port-3" "CRITICAL WARNING" "${port_name}: port nepripojen!"}
# 	}
#   }
#   set debounce false
#   set components {}
#   set modules {}
#   set body [getIPs "" debounce components modules]
#   
#   if {$debounce} {
# 	  append components $debounce_component
#   }
#   # Now that the last semi-colon is replaced, add the header and footer
#   set content [format "library IEEE;
# use IEEE.std_logic_1164.all;
# 
# library xil_defaultlib;
# use xil_defaultlib.all;
# 
# entity ${module}_vhdl is
#    port (%s
#    );
# end entity ${module}_vhdl;
# 
# architecture Behavioral of ${module}_vhdl is
# %s
# %s
# begin
# %s
# %s
# end Behavioral;" $content $components $signals $ports2Signals $body]
# 
#   append content $modules
# 
#   if {$debounce} {
# 	  append content $debounce_code
#   }
# 
#   return $content
# }
# set name [current_bd_design -quiet]
# if {$name == ""} {
#     common::send_msg_id -continue "bd2vhdl design-2" "ERROR" "Je potreba otevrit block design!"
# 	return
# }
# save_bd_design $name
Wrote  : <D:\VivadoProjects\decoder_bon1\decoder_bon1.srcs\sources_1\bd\decoder_schema\decoder_schema.bd> 
# validate_bd_design -force
# if { [llength [get_bd_ports]] > 0 } {
# 	puts "\n##### ${name} #####"
# 	set content [vhdlTemplate $name]
# 	set PROJ_DIR [get_property DIRECTORY [current_project]]
# 	set PROJ_DIR [file normalize $PROJ_DIR]
# 	set tmp_dir [file join $PROJ_DIR "tmp"]
# 	file mkdir $tmp_dir
# 	set filename "${name}.vhd"
# 	set filename_path [file join $tmp_dir $filename]
# 	# Save the template
# 	set mode {w}
# 	puts "\nCreating VHDL for Design $name in [file normalize $filename]\n"
# 	set tfh [open $filename_path $mode]
# 	puts $tfh $content
# 	close $tfh
# 
# 	import_files -force -norecurse $filename_path
# 	common::send_msg_id "bd2vhdl design-1" "INFO" "${name}_vhdl.vhd vygenerovan"
# } else {
# 	common::send_msg_id -continue "bd2vhdl design-3" "ERROR" "${name} neobsahuje zadne porty!"
# }

##### decoder_schema #####

Creating VHDL for Design decoder_schema in D:/VivadoProjects/decoder_bon1/decoder_schema.vhd

INFO: [bd2vhdl design-1] decoder_schema_vhdl.vhd vygenerovan
reset_run synth_1
launch_runs synth_1 -jobs 4
[Mon Mar 13 22:59:59 2023] Launched synth_1...
Run output will be captured here: D:/VivadoProjects/decoder_bon1/decoder_bon1.runs/synth_1/runme.log
open_run synth_1 -name synth_1
Design is defaulting to impl run constrset: constrs_1
Design is defaulting to synth run part: xc7a35tcpg236-1
INFO: [Netlist 29-17] Analyzing 5 Unisim elements for replacement
INFO: [Netlist 29-28] Unisim Transformation completed in 0 CPU seconds
INFO: [Project 1-479] Netlist was created with Vivado 2018.3
INFO: [Device 21-403] Loading part xc7a35tcpg236-1
INFO: [Project 1-570] Preparing netlist for logic optimization
Parsing XDC File [D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/constrs_1/new/decoder_schema.xdc]
WARNING: [Vivado 12-584] No ports matched 'LD0'. [D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/constrs_1/new/decoder_schema.xdc:57]
CRITICAL WARNING: [Common 17-55] 'set_property' expects at least one object. [D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/constrs_1/new/decoder_schema.xdc:57]
Resolution: If [get_<value>] was used to populate the object, check to make sure this command returns at least one valid object.
WARNING: [Vivado 12-584] No ports matched 'LD0'. [D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/constrs_1/new/decoder_schema.xdc:64]
CRITICAL WARNING: [Common 17-55] 'set_property' expects at least one object. [D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/constrs_1/new/decoder_schema.xdc:64]
Resolution: If [get_<value>] was used to populate the object, check to make sure this command returns at least one valid object.
Finished Parsing XDC File [D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/constrs_1/new/decoder_schema.xdc]
INFO: [Opt 31-138] Pushed 0 inverter(s) to 0 load pin(s).
Netlist sorting complete. Time (s): cpu = 00:00:00 ; elapsed = 00:00:00 . Memory (MB): peak = 1243.727 ; gain = 0.000
INFO: [Project 1-111] Unisim Transformation Summary:
No Unisim elements were transformed.

open_run: Time (s): cpu = 00:00:07 ; elapsed = 00:00:08 . Memory (MB): peak = 1374.922 ; gain = 382.531
open_bd_design {D:/VivadoProjects/decoder_bon1/decoder_bon1.srcs/sources_1/bd/decoder_schema/decoder_schema.bd}
close_bd_design [get_bd_designs decoder_schema]
place_ports W5 W5

Starting IO/Clock Placer Task

Phase 1 Add Constraints new method

Phase 1.1 Build CellView Core

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.010 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.2 Add User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.011 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.3 Apply User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.011 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.4 Add terminal Constraints

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.011 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.011 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 2 IO and Clk Clean Up

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.094 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.096 . Memory (MB): peak = 1827.875 ; gain = 0.000
place_ports W5 W5

Starting IO/Clock Placer Task

Phase 1 Add Constraints new method

Phase 1.1 Build CellView Core

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.008 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.2 Add User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.009 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.3 Apply User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.009 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.4 Add terminal Constraints

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.009 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.009 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 2 IO and Clk Clean Up

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.028 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.028 . Memory (MB): peak = 1827.875 ; gain = 0.000
place_ports W5 W5

Starting IO/Clock Placer Task

Phase 1 Add Constraints new method

Phase 1.1 Build CellView Core

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.2 Add User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.3 Apply User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.4 Add terminal Constraints

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 2 IO and Clk Clean Up

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.028 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.028 . Memory (MB): peak = 1827.875 ; gain = 0.000
place_ports W5 W5

Starting IO/Clock Placer Task

Phase 1 Add Constraints new method

Phase 1.1 Build CellView Core

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.006 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.2 Add User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.006 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.3 Apply User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.006 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 1.4 Add terminal Constraints

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.006 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.007 . Memory (MB): peak = 1827.875 ; gain = 0.000

Phase 2 IO and Clk Clean Up

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.031 . Memory (MB): peak = 1827.875 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.032 . Memory (MB): peak = 1827.875 ; gain = 0.000
set_property IOSTANDARD LVCMOS33 [get_ports [list W5]]
set_property is_loc_fixed true [get_ports [list  W5]]
set_property is_loc_fixed false [get_ports [list  W5]]
set_property is_loc_fixed true [get_ports [list  W5]]
set_property package_pin "" [get_ports [list  SW7]]
place_ports SW7 W13
set_property package_pin "" [get_ports [list  W5]]
place_ports W5 W5

Starting IO/Clock Placer Task

Phase 1 Add Constraints new method

Phase 1.1 Build CellView Core

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1828.516 ; gain = 0.000

Phase 1.2 Add User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1828.516 ; gain = 0.000

Phase 1.3 Apply User PBlocks

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1828.516 ; gain = 0.000

Phase 1.4 Add terminal Constraints

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1828.516 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.004 . Memory (MB): peak = 1828.516 ; gain = 0.000

Phase 2 IO and Clk Clean Up

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.030 . Memory (MB): peak = 1828.516 ; gain = 0.000

Time (s): cpu = 00:00:00 ; elapsed = 00:00:00.031 . Memory (MB): peak = 1828.516 ; gain = 0.000
set_property is_loc_fixed true [get_ports [list  W5]]
set_property is_loc_fixed false [get_ports [list  W5]]
set_property is_loc_fixed true [get_ports [list  W5]]
set_property is_loc_fixed false [get_ports [list  W5]]
save_constraints
Netlist sorting complete. Time (s): cpu = 00:00:00 ; elapsed = 00:00:00 . Memory (MB): peak = 1828.516 ; gain = 0.000
exit
INFO: [Common 17-206] Exiting Vivado at Mon Mar 13 23:05:58 2023...
